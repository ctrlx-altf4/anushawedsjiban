{"ast":null,"code":"import _Date$now from \"@babel/runtime-corejs2/core-js/date/now\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\Users\\\\hp\\\\Desktop\\\\Project\\\\anusha\\\\wedding\\\\components\\\\fireworks.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React from 'react';\n\nvar Fireworks =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Fireworks, _React$Component);\n\n  function Fireworks() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Fireworks);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Fireworks)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {});\n\n    return _this;\n  }\n\n  _createClass(Fireworks, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setup();\n    }\n  }, {\n    key: \"setup\",\n    value: function setup() {\n      var Fireworks = function Fireworks() {\n        /*=============================================================================*/\n\n        /* Utility\r\n        /*=============================================================================*/\n        var self = this;\n\n        var rand = function rand(rMi, rMa) {\n          return ~~(Math.random() * (rMa - rMi + 1) + rMi);\n        };\n\n        var hitTest = function hitTest(x1, y1, w1, h1, x2, y2, w2, h2) {\n          return !(x1 + w1 < x2 || x2 + w2 < x1 || y1 + h1 < y2 || y2 + h2 < y1);\n        };\n\n        window.requestAnimFrame = function () {\n          return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (a) {\n            window.setTimeout(a, 1E3 / 60);\n          };\n        }();\n        /*=============================================================================*/\n\n        /* Initialize\r\n        /*=============================================================================*/\n\n\n        self.init = function () {\n          self.dt = 0;\n          self.oldTime = _Date$now();\n          self.canvas = document.createElement('canvas');\n          self.canvasContainer = $('#canvas-container');\n          var canvasContainerDisabled = document.getElementById('canvas-container');\n\n          self.canvas.onselectstart = function () {\n            return false;\n          };\n\n          self.canvas.width = self.cw = 600;\n          self.canvas.height = self.ch = 400;\n          self.particles = [];\n          self.partCount = 30;\n          self.fireworks = [];\n          self.mx = self.cw / 2;\n          self.my = self.ch / 2;\n          self.currentHue = 170;\n          self.partSpeed = 5;\n          self.partSpeedVariance = 10;\n          self.partWind = 50;\n          self.partFriction = 5;\n          self.partGravity = 1;\n          self.hueMin = 150;\n          self.hueMax = 200;\n          self.fworkSpeed = 2;\n          self.fworkAccel = 4;\n          self.hueVariance = 30;\n          self.flickerDensity = 20;\n          self.showShockwave = false;\n          self.showTarget = true;\n          self.clearAlpha = 25;\n          self.canvasContainer.append(self.canvas);\n          self.ctx = self.canvas.getContext('2d');\n          self.ctx.lineCap = 'round';\n          self.ctx.lineJoin = 'round';\n          self.lineWidth = 1;\n          self.bindEvents();\n          self.canvasLoop();\n\n          self.canvas.onselectstart = function () {\n            return false;\n          };\n        };\n        /*=============================================================================*/\n\n        /* Particle Constructor\r\n        /*=============================================================================*/\n\n\n        var Particle = function Particle(x, y, hue) {\n          this.x = x;\n          this.y = y;\n          this.coordLast = [{\n            x: x,\n            y: y\n          }, {\n            x: x,\n            y: y\n          }, {\n            x: x,\n            y: y\n          }];\n          this.angle = rand(0, 360);\n          this.speed = rand(self.partSpeed - self.partSpeedVariance <= 0 ? 1 : self.partSpeed - self.partSpeedVariance, self.partSpeed + self.partSpeedVariance);\n          this.friction = 1 - self.partFriction / 100;\n          this.gravity = self.partGravity / 2;\n          this.hue = rand(hue - self.hueVariance, hue + self.hueVariance);\n          this.brightness = rand(50, 80);\n          this.alpha = rand(40, 100) / 100;\n          this.decay = rand(10, 50) / 1000;\n          this.wind = (rand(0, self.partWind) - self.partWind / 2) / 25;\n          this.lineWidth = self.lineWidth;\n        };\n\n        Particle.prototype.update = function (index) {\n          var radians = this.angle * Math.PI / 180;\n          var vx = Math.cos(radians) * this.speed;\n          var vy = Math.sin(radians) * this.speed + this.gravity;\n          this.speed *= this.friction;\n          this.coordLast[2].x = this.coordLast[1].x;\n          this.coordLast[2].y = this.coordLast[1].y;\n          this.coordLast[1].x = this.coordLast[0].x;\n          this.coordLast[1].y = this.coordLast[0].y;\n          this.coordLast[0].x = this.x;\n          this.coordLast[0].y = this.y;\n          this.x += vx * self.dt;\n          this.y += vy * self.dt;\n          this.angle += this.wind;\n          this.alpha -= this.decay;\n\n          if (!hitTest(0, 0, self.cw, self.ch, this.x - this.radius, this.y - this.radius, this.radius * 2, this.radius * 2) || this.alpha < .05) {\n            self.particles.splice(index, 1);\n          }\n        };\n\n        Particle.prototype.draw = function () {\n          var coordRand = rand(1, 3) - 1;\n          self.ctx.beginPath();\n          self.ctx.moveTo(Math.round(this.coordLast[coordRand].x), Math.round(this.coordLast[coordRand].y));\n          self.ctx.lineTo(Math.round(this.x), Math.round(this.y));\n          self.ctx.closePath();\n          self.ctx.strokeStyle = 'hsla(' + this.hue + ', 100%, ' + this.brightness + '%, ' + this.alpha + ')';\n          self.ctx.stroke();\n\n          if (self.flickerDensity > 0) {\n            var inverseDensity = 50 - self.flickerDensity;\n\n            if (rand(0, inverseDensity) === inverseDensity) {\n              self.ctx.beginPath();\n              self.ctx.arc(Math.round(this.x), Math.round(this.y), rand(this.lineWidth, this.lineWidth + 3) / 2, 0, Math.PI * 2, false);\n              self.ctx.closePath();\n              var randAlpha = rand(50, 100) / 100;\n              self.ctx.fillStyle = 'hsla(' + this.hue + ', 100%, ' + this.brightness + '%, ' + randAlpha + ')';\n              self.ctx.fill();\n            }\n          }\n        };\n        /*=============================================================================*/\n\n        /* Create Particles\r\n        /*=============================================================================*/\n\n\n        self.createParticles = function (x, y, hue) {\n          var countdown = self.partCount;\n\n          while (countdown--) {\n            self.particles.push(new Particle(x, y, hue));\n          }\n        };\n        /*=============================================================================*/\n\n        /* Update Particles\r\n        /*=============================================================================*/\n\n\n        self.updateParticles = function () {\n          var i = self.particles.length;\n\n          while (i--) {\n            var p = self.particles[i];\n            p.update(i);\n          }\n\n          ;\n        };\n        /*=============================================================================*/\n\n        /* Draw Particles\r\n        /*=============================================================================*/\n\n\n        self.drawParticles = function () {\n          var i = self.particles.length;\n\n          while (i--) {\n            var p = self.particles[i];\n            p.draw();\n          }\n\n          ;\n        };\n        /*=============================================================================*/\n\n        /* Firework Constructor\r\n        /*=============================================================================*/\n\n\n        var Firework = function Firework(startX, startY, targetX, targetY) {\n          this.x = startX;\n          this.y = startY;\n          this.startX = startX;\n          this.startY = startY;\n          this.hitX = false;\n          this.hitY = false;\n          this.coordLast = [{\n            x: startX,\n            y: startY\n          }, {\n            x: startX,\n            y: startY\n          }, {\n            x: startX,\n            y: startY\n          }];\n          this.targetX = targetX;\n          this.targetY = targetY;\n          this.speed = self.fworkSpeed;\n          this.angle = Math.atan2(targetY - startY, targetX - startX);\n          this.shockwaveAngle = Math.atan2(targetY - startY, targetX - startX) + 90 * (Math.PI / 180);\n          this.acceleration = self.fworkAccel / 100;\n          this.hue = self.currentHue;\n          this.brightness = rand(50, 80);\n          this.alpha = rand(50, 100) / 100;\n          this.lineWidth = self.lineWidth;\n          this.targetRadius = 1;\n        };\n\n        Firework.prototype.update = function (index) {\n          self.ctx.lineWidth = this.lineWidth;\n          var vx = Math.cos(this.angle) * this.speed,\n              vy = Math.sin(this.angle) * this.speed;\n          this.speed *= 1 + this.acceleration;\n          this.coordLast[2].x = this.coordLast[1].x;\n          this.coordLast[2].y = this.coordLast[1].y;\n          this.coordLast[1].x = this.coordLast[0].x;\n          this.coordLast[1].y = this.coordLast[0].y;\n          this.coordLast[0].x = this.x;\n          this.coordLast[0].y = this.y;\n\n          if (self.showTarget) {\n            if (this.targetRadius < 8) {\n              this.targetRadius += .25 * self.dt;\n            } else {\n              this.targetRadius = 1 * self.dt;\n            }\n          }\n\n          if (this.startX >= this.targetX) {\n            if (this.x + vx <= this.targetX) {\n              this.x = this.targetX;\n              this.hitX = true;\n            } else {\n              this.x += vx * self.dt;\n            }\n          } else {\n            if (this.x + vx >= this.targetX) {\n              this.x = this.targetX;\n              this.hitX = true;\n            } else {\n              this.x += vx * self.dt;\n            }\n          }\n\n          if (this.startY >= this.targetY) {\n            if (this.y + vy <= this.targetY) {\n              this.y = this.targetY;\n              this.hitY = true;\n            } else {\n              this.y += vy * self.dt;\n            }\n          } else {\n            if (this.y + vy >= this.targetY) {\n              this.y = this.targetY;\n              this.hitY = true;\n            } else {\n              this.y += vy * self.dt;\n            }\n          }\n\n          if (this.hitX && this.hitY) {\n            var randExplosion = rand(0, 9);\n            self.createParticles(this.targetX, this.targetY, this.hue);\n            self.fireworks.splice(index, 1);\n          }\n        };\n\n        Firework.prototype.draw = function () {\n          self.ctx.lineWidth = this.lineWidth;\n          var coordRand = rand(1, 3) - 1;\n          self.ctx.beginPath();\n          self.ctx.moveTo(Math.round(this.coordLast[coordRand].x), Math.round(this.coordLast[coordRand].y));\n          self.ctx.lineTo(Math.round(this.x), Math.round(this.y));\n          self.ctx.closePath();\n          self.ctx.strokeStyle = 'hsla(' + this.hue + ', 100%, ' + this.brightness + '%, ' + this.alpha + ')';\n          self.ctx.stroke();\n\n          if (self.showTarget) {\n            self.ctx.save();\n            self.ctx.beginPath();\n            self.ctx.arc(Math.round(this.targetX), Math.round(this.targetY), this.targetRadius, 0, Math.PI * 2, false);\n            self.ctx.closePath();\n            self.ctx.lineWidth = 1;\n            self.ctx.stroke();\n            self.ctx.restore();\n          }\n\n          if (self.showShockwave) {\n            self.ctx.save();\n            self.ctx.translate(Math.round(this.x), Math.round(this.y));\n            self.ctx.rotate(this.shockwaveAngle);\n            self.ctx.beginPath();\n            self.ctx.arc(0, 0, 1 * (this.speed / 5), 0, Math.PI, true);\n            self.ctx.strokeStyle = 'hsla(' + this.hue + ', 100%, ' + this.brightness + '%, ' + rand(25, 60) / 100 + ')';\n            self.ctx.lineWidth = this.lineWidth;\n            self.ctx.stroke();\n            self.ctx.restore();\n          }\n        };\n        /*=============================================================================*/\n\n        /* Create Fireworks\r\n        /*=============================================================================*/\n\n\n        self.createFireworks = function (startX, startY, targetX, targetY) {\n          self.fireworks.push(new Firework(startX, startY, targetX, targetY));\n        };\n        /*=============================================================================*/\n\n        /* Update Fireworks\r\n        /*=============================================================================*/\n\n\n        self.updateFireworks = function () {\n          var i = self.fireworks.length;\n\n          while (i--) {\n            var f = self.fireworks[i];\n            f.update(i);\n          }\n\n          ;\n        };\n        /*=============================================================================*/\n\n        /* Draw Fireworks\r\n        /*=============================================================================*/\n\n\n        self.drawFireworks = function () {\n          var i = self.fireworks.length;\n\n          while (i--) {\n            var f = self.fireworks[i];\n            f.draw();\n          }\n\n          ;\n        };\n        /*=============================================================================*/\n\n        /* Events\r\n        /*=============================================================================*/\n\n\n        self.bindEvents = function () {\n          $(window).on('resize', function () {\n            clearTimeout(self.timeout);\n            self.timeout = setTimeout(function () {\n              self.ctx.lineCap = 'round';\n              self.ctx.lineJoin = 'round';\n            }, 100);\n          });\n          $(self.canvas).on('mousedown', function (e) {\n            var randLaunch = rand(0, 5);\n            self.mx = e.pageX - self.canvasContainer.offset().left;\n            self.my = e.pageY - self.canvasContainer.offset().top;\n            self.currentHue = rand(self.hueMin, self.hueMax);\n            self.createFireworks(self.cw / 2, self.ch, self.mx, self.my);\n            $(self.canvas).on('mousemove.fireworks', function (e) {\n              var randLaunch = rand(0, 5);\n              self.mx = e.pageX - self.canvasContainer.offset().left;\n              self.my = e.pageY - self.canvasContainer.offset().top;\n              self.currentHue = rand(self.hueMin, self.hueMax);\n              self.createFireworks(self.cw / 2, self.ch, self.mx, self.my);\n            });\n          });\n          $(self.canvas).on('mouseup', function (e) {\n            $(self.canvas).off('mousemove.fireworks');\n          });\n        };\n        /*=============================================================================*/\n\n        /* Clear Canvas\r\n        /*=============================================================================*/\n\n\n        self.clear = function () {\n          self.particles = [];\n          self.fireworks = [];\n          self.ctx.clearRect(0, 0, self.cw, self.ch);\n        };\n        /*=============================================================================*/\n\n        /* Delta\r\n        /*=============================================================================*/\n\n\n        self.updateDelta = function () {\n          var newTime = _Date$now();\n\n          self.dt = (newTime - self.oldTime) / 16;\n          self.dt = self.dt > 5 ? 5 : self.dt;\n          self.oldTime = newTime;\n        };\n        /*=============================================================================*/\n\n        /* Main Loop\r\n        /*=============================================================================*/\n\n\n        self.canvasLoop = function () {\n          requestAnimFrame(self.canvasLoop, self.canvas);\n          self.updateDelta();\n          self.ctx.globalCompositeOperation = 'destination-out';\n          self.ctx.fillStyle = 'rgba(0,0,0,' + self.clearAlpha / 100 + ')';\n          self.ctx.fillRect(0, 0, self.cw, self.ch);\n          self.ctx.globalCompositeOperation = 'lighter';\n          self.updateFireworks();\n          self.updateParticles();\n          self.drawFireworks();\n          self.drawParticles();\n        };\n\n        self.init();\n        var initialLaunchCount = 1000;\n\n        while (initialLaunchCount--) {\n          setTimeout(function () {\n            self.fireworks.push(new Firework(self.cw / 2, self.ch, rand(50, self.cw - 50), rand(50, self.ch / 2) - 50));\n          }, initialLaunchCount * 200);\n        }\n      };\n      /*=============================================================================*/\n\n      /* GUI\r\n      /*=============================================================================*/\n\n\n      var guiPresets = {\n        \"preset\": \"Default\",\n        \"remembered\": {\n          \"Default\": {\n            \"0\": {\n              \"fworkSpeed\": 2,\n              \"fworkAccel\": 4,\n              \"showShockwave\": false,\n              \"showTarget\": true,\n              \"partCount\": 30,\n              \"partSpeed\": 5,\n              \"partSpeedVariance\": 10,\n              \"partWind\": 50,\n              \"partFriction\": 5,\n              \"partGravity\": 1,\n              \"flickerDensity\": 20,\n              \"hueMin\": 150,\n              \"hueMax\": 200,\n              \"hueVariance\": 30,\n              \"lineWidth\": 1,\n              \"clearAlpha\": 25\n            }\n          },\n          \"Anti Gravity\": {\n            \"0\": {\n              \"fworkSpeed\": 4,\n              \"fworkAccel\": 10,\n              \"showShockwave\": true,\n              \"showTarget\": false,\n              \"partCount\": 150,\n              \"partSpeed\": 5,\n              \"partSpeedVariance\": 10,\n              \"partWind\": 10,\n              \"partFriction\": 10,\n              \"partGravity\": -10,\n              \"flickerDensity\": 30,\n              \"hueMin\": 0,\n              \"hueMax\": 360,\n              \"hueVariance\": 30,\n              \"lineWidth\": 1,\n              \"clearAlpha\": 50\n            }\n          },\n          \"Battle Field\": {\n            \"0\": {\n              \"fworkSpeed\": 10,\n              \"fworkAccel\": 20,\n              \"showShockwave\": true,\n              \"showTarget\": true,\n              \"partCount\": 200,\n              \"partSpeed\": 30,\n              \"partSpeedVariance\": 5,\n              \"partWind\": 0,\n              \"partFriction\": 5,\n              \"partGravity\": 0,\n              \"flickerDensity\": 0,\n              \"hueMin\": 20,\n              \"hueMax\": 30,\n              \"hueVariance\": 10,\n              \"lineWidth\": 1,\n              \"clearAlpha\": 40\n            }\n          },\n          \"Mega Blast\": {\n            \"0\": {\n              \"fworkSpeed\": 3,\n              \"fworkAccel\": 3,\n              \"showShockwave\": true,\n              \"showTarget\": true,\n              \"partCount\": 500,\n              \"partSpeed\": 50,\n              \"partSpeedVariance\": 5,\n              \"partWind\": 0,\n              \"partFriction\": 0,\n              \"partGravity\": 0,\n              \"flickerDensity\": 0,\n              \"hueMin\": 0,\n              \"hueMax\": 360,\n              \"hueVariance\": 30,\n              \"lineWidth\": 20,\n              \"clearAlpha\": 20\n            }\n          },\n          \"Nimble\": {\n            \"0\": {\n              \"fworkSpeed\": 10,\n              \"fworkAccel\": 50,\n              \"showShockwave\": false,\n              \"showTarget\": false,\n              \"partCount\": 120,\n              \"partSpeed\": 10,\n              \"partSpeedVariance\": 10,\n              \"partWind\": 100,\n              \"partFriction\": 50,\n              \"partGravity\": 0,\n              \"flickerDensity\": 20,\n              \"hueMin\": 0,\n              \"hueMax\": 360,\n              \"hueVariance\": 30,\n              \"lineWidth\": 1,\n              \"clearAlpha\": 80\n            }\n          },\n          \"Slow Launch\": {\n            \"0\": {\n              \"fworkSpeed\": 2,\n              \"fworkAccel\": 2,\n              \"showShockwave\": false,\n              \"showTarget\": false,\n              \"partCount\": 200,\n              \"partSpeed\": 10,\n              \"partSpeedVariance\": 0,\n              \"partWind\": 100,\n              \"partFriction\": 0,\n              \"partGravity\": 2,\n              \"flickerDensity\": 50,\n              \"hueMin\": 0,\n              \"hueMax\": 360,\n              \"hueVariance\": 20,\n              \"lineWidth\": 4,\n              \"clearAlpha\": 10\n            }\n          },\n          \"Perma Trail\": {\n            \"0\": {\n              \"fworkSpeed\": 4,\n              \"fworkAccel\": 10,\n              \"showShockwave\": false,\n              \"showTarget\": false,\n              \"partCount\": 150,\n              \"partSpeed\": 10,\n              \"partSpeedVariance\": 10,\n              \"partWind\": 100,\n              \"partFriction\": 3,\n              \"partGravity\": 0,\n              \"flickerDensity\": 0,\n              \"hueMin\": 0,\n              \"hueMax\": 360,\n              \"hueVariance\": 20,\n              \"lineWidth\": 1,\n              \"clearAlpha\": 0\n            }\n          }\n        },\n        \"closed\": true,\n        \"folders\": {\n          \"Fireworks\": {\n            \"preset\": \"Default\",\n            \"closed\": false,\n            \"folders\": {}\n          },\n          \"Particles\": {\n            \"preset\": \"Default\",\n            \"closed\": true,\n            \"folders\": {}\n          },\n          \"Color\": {\n            \"preset\": \"Default\",\n            \"closed\": true,\n            \"folders\": {}\n          },\n          \"Other\": {\n            \"preset\": \"Default\",\n            \"closed\": true,\n            \"folders\": {}\n          }\n        }\n      };\n      var fworks = new Fireworks();\n      var gui = new dat.GUI({\n        autoPlace: false,\n        load: guiPresets,\n        preset: 'Default'\n      });\n      var customContainer = document.getElementById('gui');\n      customContainer.appendChild(gui.domElement);\n      var guiFireworks = gui.addFolder('Fireworks');\n      guiFireworks.add(fworks, 'fworkSpeed').min(1).max(10).step(1);\n      guiFireworks.add(fworks, 'fworkAccel').min(0).max(50).step(1);\n      guiFireworks.add(fworks, 'showShockwave');\n      guiFireworks.add(fworks, 'showTarget');\n      var guiParticles = gui.addFolder('Particles');\n      guiParticles.add(fworks, 'partCount').min(0).max(500).step(1);\n      guiParticles.add(fworks, 'partSpeed').min(1).max(100).step(1);\n      guiParticles.add(fworks, 'partSpeedVariance').min(0).max(50).step(1);\n      guiParticles.add(fworks, 'partWind').min(0).max(100).step(1);\n      guiParticles.add(fworks, 'partFriction').min(0).max(50).step(1);\n      guiParticles.add(fworks, 'partGravity').min(-20).max(20).step(1);\n      guiParticles.add(fworks, 'flickerDensity').min(0).max(50).step(1);\n      var guiColor = gui.addFolder('Color');\n      guiColor.add(fworks, 'hueMin').min(0).max(360).step(1);\n      guiColor.add(fworks, 'hueMax').min(0).max(360).step(1);\n      guiColor.add(fworks, 'hueVariance').min(0).max(180).step(1);\n      var guiOther = gui.addFolder('Other');\n      guiOther.add(fworks, 'lineWidth').min(1).max(20).step(1);\n      guiOther.add(fworks, 'clearAlpha').min(0).max(100).step(1);\n      guiOther.add(fworks, 'clear').name('Clear');\n      gui.remember(fworks);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var style = '';\n      return __jsx(\"div\", {\n        className: \"jsx-511672163\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 617\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        id: \"gui\",\n        className: \"jsx-511672163\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 618\n        },\n        __self: this\n      }), __jsx(\"div\", {\n        id: \"canvas-container\",\n        className: \"jsx-511672163\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 619\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        id: \"mountains2\",\n        className: \"jsx-511672163\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 620\n        },\n        __self: this\n      }), __jsx(\"div\", {\n        id: \"mountains1\",\n        className: \"jsx-511672163\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 621\n        },\n        __self: this\n      }), __jsx(\"div\", {\n        id: \"skyline\",\n        className: \"jsx-511672163\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 622\n        },\n        __self: this\n      })), __jsx(_JSXStyle, {\n        id: \"511672163\",\n        __self: this\n      }, \"html.jsx-511672163,body.jsx-511672163{margin:0;padding:0;}body.jsx-511672163{background:#171717;color:#999;font:100%/18px helvetica,arial,sans-serif;}a.jsx-511672163{color:#2fa1d6;font-weight:bold;-webkit-text-decoration:none;text-decoration:none;}a.jsx-511672163:hover{color:#fff;}#canvas-container.jsx-511672163{background:#000 url(https://jackrugile.com/lab/fireworks-v2/images/bg.jpg);position:absolute;z-index:2;margin:0;top:0;width:100%;height:100%;}canvas.jsx-511672163{cursor:crosshair;display:block;position:relative;z-index:3;width:100%;height:100%;}canvas.jsx-511672163:active{cursor:crosshair;}#skyline.jsx-511672163{background:url(https://jackrugile.com/lab/fireworks-v2/images/skyline.png) repeat-x 50% 0;bottom:0;height:135px;left:0;position:absolute;width:100%;z-index:1;}#mountains1.jsx-511672163{background:url(https://jackrugile.com/lab/fireworks-v2/images/mountains1.png) repeat-x 40% 0;bottom:0;height:200px;left:0;position:absolute;width:100%;z-index:1;}#mountains2.jsx-511672163{background:url(https://jackrugile.com/lab/fireworks-v2/images/mountains2.png) repeat-x 30% 0;bottom:0;height:250px;left:0;position:absolute;width:100%;z-index:1;}#gui.jsx-511672163{right:0;position:fixed;top:0;z-index:3;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcaHBcXERlc2t0b3BcXFByb2plY3RcXGFudXNoYVxcd2VkZGluZ1xcY29tcG9uZW50c1xcZmlyZXdvcmtzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQSttQnNCLEFBR3NCLEFBS1UsQUFNTCxBQU1ILEFBSWdFLEFBZTFELEFBVUEsQUFJeUUsQUFVRyxBQVVBLEFBVXJGLFFBQ08sQ0FoRkwsRUFpQmQsR0FOcUIsR0F5QkgsQUFVbEIsRUE3Q0EsQUFJZSxJQTRFTCxNQUNJLENBNUVrQyxDQU12QixBQXlCSCxRQThDdEIsVUE3Q2MsVUFFRCxXQUNDLEVBbENkLEdBaUJzQixNQVh0QixDQTZCQSxRQVFhLEdBdkJDLEFBaUNELEFBVUEsTUFuQkksR0FVQSxBQVVBLENBM0NOLFNBQ0gsQUF1QkcsR0FVQSxBQVVBLEdBMUNFLENBdUJTLEdBVUEsQUFVQSxPQTFDUixRQXVCQyxHQVVBLEFBVUEsQ0ExQ2YsT0F1QmMsR0FVQSxBQVVBLE9BbkJkLEdBVUEsQUFVQSIsImZpbGUiOiJDOlxcVXNlcnNcXGhwXFxEZXNrdG9wXFxQcm9qZWN0XFxhbnVzaGFcXHdlZGRpbmdcXGNvbXBvbmVudHNcXGZpcmV3b3Jrcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcblxyXG5cclxuY2xhc3MgRmlyZXdvcmtzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICAgIHN0YXRlPXt9XHJcbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcclxuICAgICAgdGhpcy5zZXR1cCgpXHJcbiAgICB9XHJcbiAgICBzZXR1cCgpIHtcclxuICAgICAgdmFyIEZpcmV3b3JrcyA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgIC8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1x0XHJcbiAgICAgIC8qIFV0aWxpdHlcclxuICAgICAgLyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgdmFyIHJhbmQgPSBmdW5jdGlvbihyTWksIHJNYSl7cmV0dXJuIH5+KChNYXRoLnJhbmRvbSgpKihyTWEtck1pKzEpKStyTWkpO31cclxuICAgICAgdmFyIGhpdFRlc3QgPSBmdW5jdGlvbih4MSwgeTEsIHcxLCBoMSwgeDIsIHkyLCB3MiwgaDIpe3JldHVybiAhKHgxICsgdzEgPCB4MiB8fCB4MiArIHcyIDwgeDEgfHwgeTEgKyBoMSA8IHkyIHx8IHkyICsgaDIgPCB5MSk7fTtcclxuICAgICAgd2luZG93LnJlcXVlc3RBbmltRnJhbWU9ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm9SZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tc1JlcXVlc3RBbmltYXRpb25GcmFtZXx8ZnVuY3Rpb24oYSl7d2luZG93LnNldFRpbWVvdXQoYSwxRTMvNjApfX0oKTtcclxuICAgICAgXHJcbiAgICAgIC8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1x0XHJcbiAgICAgIC8qIEluaXRpYWxpemVcclxuICAgICAgLyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXHJcbiAgICAgIHNlbGYuaW5pdCA9IGZ1bmN0aW9uKCl7XHRcclxuICAgICAgc2VsZi5kdCA9IDA7XHJcbiAgICAgICAgICBzZWxmLm9sZFRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgICAgc2VsZi5jYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcdFx0XHRcdFxyXG4gICAgICAgICAgc2VsZi5jYW52YXNDb250YWluZXIgPSAkKCcjY2FudmFzLWNvbnRhaW5lcicpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICB2YXIgY2FudmFzQ29udGFpbmVyRGlzYWJsZWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FudmFzLWNvbnRhaW5lcicpO1xyXG4gICAgICAgICAgc2VsZi5jYW52YXMub25zZWxlY3RzdGFydCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIHNlbGYuY2FudmFzLndpZHRoID0gc2VsZi5jdyA9IDYwMDtcclxuICAgICAgICAgIHNlbGYuY2FudmFzLmhlaWdodCA9IHNlbGYuY2ggPSA0MDA7XHRcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgc2VsZi5wYXJ0aWNsZXMgPSBbXTtcdFxyXG4gICAgICAgICAgc2VsZi5wYXJ0Q291bnQgPSAzMDtcclxuICAgICAgICAgIHNlbGYuZmlyZXdvcmtzID0gW107XHRcclxuICAgICAgICAgIHNlbGYubXggPSBzZWxmLmN3LzI7XHJcbiAgICAgICAgICBzZWxmLm15ID0gc2VsZi5jaC8yO1xyXG4gICAgICAgICAgc2VsZi5jdXJyZW50SHVlID0gMTcwO1xyXG4gICAgICAgICAgc2VsZi5wYXJ0U3BlZWQgPSA1O1xyXG4gICAgICAgICAgc2VsZi5wYXJ0U3BlZWRWYXJpYW5jZSA9IDEwO1xyXG4gICAgICAgICAgc2VsZi5wYXJ0V2luZCA9IDUwO1xyXG4gICAgICAgICAgc2VsZi5wYXJ0RnJpY3Rpb24gPSA1O1xyXG4gICAgICAgICAgc2VsZi5wYXJ0R3Jhdml0eSA9IDE7XHJcbiAgICAgICAgICBzZWxmLmh1ZU1pbiA9IDE1MDtcclxuICAgICAgICAgIHNlbGYuaHVlTWF4ID0gMjAwO1xyXG4gICAgICAgICAgc2VsZi5md29ya1NwZWVkID0gMjtcclxuICAgICAgICAgIHNlbGYuZndvcmtBY2NlbCA9IDQ7XHJcbiAgICAgICAgICBzZWxmLmh1ZVZhcmlhbmNlID0gMzA7XHJcbiAgICAgICAgICBzZWxmLmZsaWNrZXJEZW5zaXR5ID0gMjA7XHJcbiAgICAgICAgICBzZWxmLnNob3dTaG9ja3dhdmUgPSBmYWxzZTtcclxuICAgICAgICAgIHNlbGYuc2hvd1RhcmdldCA9IHRydWU7XHJcbiAgICAgICAgICBzZWxmLmNsZWFyQWxwaGEgPSAyNTtcclxuICBcclxuICAgICAgICAgIHNlbGYuY2FudmFzQ29udGFpbmVyLmFwcGVuZChzZWxmLmNhbnZhcyk7XHJcbiAgICAgICAgICBzZWxmLmN0eCA9IHNlbGYuY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgICBzZWxmLmN0eC5saW5lQ2FwID0gJ3JvdW5kJztcclxuICAgICAgICAgIHNlbGYuY3R4LmxpbmVKb2luID0gJ3JvdW5kJztcclxuICAgICAgICAgIHNlbGYubGluZVdpZHRoID0gMTtcclxuICAgICAgICAgIHNlbGYuYmluZEV2ZW50cygpO1x0XHRcdFxyXG4gICAgICAgICAgc2VsZi5jYW52YXNMb29wKCk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIHNlbGYuY2FudmFzLm9uc2VsZWN0c3RhcnQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICBcclxuICAgICAgICAgIFxyXG4gICAgICB9O1x0XHRcclxuICAgICAgXHJcbiAgICAgIC8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1x0XHJcbiAgICAgIC8qIFBhcnRpY2xlIENvbnN0cnVjdG9yXHJcbiAgICAgIC8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xyXG4gICAgICB2YXIgUGFydGljbGUgPSBmdW5jdGlvbih4LCB5LCBodWUpe1xyXG4gICAgICAgICAgdGhpcy54ID0geDtcclxuICAgICAgICAgIHRoaXMueSA9IHk7XHJcbiAgICAgICAgICB0aGlzLmNvb3JkTGFzdCA9IFtcclxuICAgICAgICAgICAgICB7eDogeCwgeTogeX0sXHJcbiAgICAgICAgICAgICAge3g6IHgsIHk6IHl9LFxyXG4gICAgICAgICAgICAgIHt4OiB4LCB5OiB5fVxyXG4gICAgICAgICAgXTtcclxuICAgICAgICAgIHRoaXMuYW5nbGUgPSByYW5kKDAsIDM2MCk7XHJcbiAgICAgICAgICB0aGlzLnNwZWVkID0gcmFuZCgoKHNlbGYucGFydFNwZWVkIC0gc2VsZi5wYXJ0U3BlZWRWYXJpYW5jZSkgPD0gMCkgPyAxIDogc2VsZi5wYXJ0U3BlZWQgLSBzZWxmLnBhcnRTcGVlZFZhcmlhbmNlLCAoc2VsZi5wYXJ0U3BlZWQgKyBzZWxmLnBhcnRTcGVlZFZhcmlhbmNlKSk7XHJcbiAgICAgICAgICB0aGlzLmZyaWN0aW9uID0gMSAtIHNlbGYucGFydEZyaWN0aW9uLzEwMDtcclxuICAgICAgICAgIHRoaXMuZ3Jhdml0eSA9IHNlbGYucGFydEdyYXZpdHkvMjtcclxuICAgICAgICAgIHRoaXMuaHVlID0gcmFuZChodWUtc2VsZi5odWVWYXJpYW5jZSwgaHVlK3NlbGYuaHVlVmFyaWFuY2UpO1xyXG4gICAgICAgICAgdGhpcy5icmlnaHRuZXNzID0gcmFuZCg1MCwgODApO1xyXG4gICAgICAgICAgdGhpcy5hbHBoYSA9IHJhbmQoNDAsMTAwKS8xMDA7XHJcbiAgICAgICAgICB0aGlzLmRlY2F5ID0gcmFuZCgxMCwgNTApLzEwMDA7XHJcbiAgICAgICAgICB0aGlzLndpbmQgPSAocmFuZCgwLCBzZWxmLnBhcnRXaW5kKSAtIChzZWxmLnBhcnRXaW5kLzIpKS8yNTtcclxuICAgICAgICAgIHRoaXMubGluZVdpZHRoID0gc2VsZi5saW5lV2lkdGg7XHJcbiAgICAgIH07XHJcbiAgICAgIFxyXG4gICAgICBQYXJ0aWNsZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24oaW5kZXgpe1xyXG4gICAgICAgICAgdmFyIHJhZGlhbnMgPSB0aGlzLmFuZ2xlICogTWF0aC5QSSAvIDE4MDtcclxuICAgICAgICAgIHZhciB2eCA9IE1hdGguY29zKHJhZGlhbnMpICogdGhpcy5zcGVlZDtcclxuICAgICAgICAgIHZhciB2eSA9IE1hdGguc2luKHJhZGlhbnMpICogdGhpcy5zcGVlZCArIHRoaXMuZ3Jhdml0eTtcclxuICAgICAgICAgIHRoaXMuc3BlZWQgKj0gdGhpcy5mcmljdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgIHRoaXMuY29vcmRMYXN0WzJdLnggPSB0aGlzLmNvb3JkTGFzdFsxXS54O1xyXG4gICAgICAgICAgdGhpcy5jb29yZExhc3RbMl0ueSA9IHRoaXMuY29vcmRMYXN0WzFdLnk7XHJcbiAgICAgICAgICB0aGlzLmNvb3JkTGFzdFsxXS54ID0gdGhpcy5jb29yZExhc3RbMF0ueDtcclxuICAgICAgICAgIHRoaXMuY29vcmRMYXN0WzFdLnkgPSB0aGlzLmNvb3JkTGFzdFswXS55O1xyXG4gICAgICAgICAgdGhpcy5jb29yZExhc3RbMF0ueCA9IHRoaXMueDtcclxuICAgICAgICAgIHRoaXMuY29vcmRMYXN0WzBdLnkgPSB0aGlzLnk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIHRoaXMueCArPSB2eCAqIHNlbGYuZHQ7XHJcbiAgICAgICAgICB0aGlzLnkgKz0gdnkgKiBzZWxmLmR0O1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICB0aGlzLmFuZ2xlICs9IHRoaXMud2luZDtcdFx0XHRcdFxyXG4gICAgICAgICAgdGhpcy5hbHBoYSAtPSB0aGlzLmRlY2F5O1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBpZighaGl0VGVzdCgwLDAsc2VsZi5jdyxzZWxmLmNoLHRoaXMueC10aGlzLnJhZGl1cywgdGhpcy55LXRoaXMucmFkaXVzLCB0aGlzLnJhZGl1cyoyLCB0aGlzLnJhZGl1cyoyKSB8fCB0aGlzLmFscGhhIDwgLjA1KXtcdFx0XHRcdFx0XHJcbiAgICAgICAgICAgICAgc2VsZi5wYXJ0aWNsZXMuc3BsaWNlKGluZGV4LCAxKTtcdFxyXG4gICAgICAgICAgfVx0XHRcdFxyXG4gICAgICB9O1xyXG4gICAgICBcclxuICAgICAgUGFydGljbGUucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgdmFyIGNvb3JkUmFuZCA9IChyYW5kKDEsMyktMSk7XHJcbiAgICAgICAgICBzZWxmLmN0eC5iZWdpblBhdGgoKTtcdFx0XHRcdFx0XHRcdFx0XHJcbiAgICAgICAgICBzZWxmLmN0eC5tb3ZlVG8oTWF0aC5yb3VuZCh0aGlzLmNvb3JkTGFzdFtjb29yZFJhbmRdLngpLCBNYXRoLnJvdW5kKHRoaXMuY29vcmRMYXN0W2Nvb3JkUmFuZF0ueSkpO1xyXG4gICAgICAgICAgc2VsZi5jdHgubGluZVRvKE1hdGgucm91bmQodGhpcy54KSwgTWF0aC5yb3VuZCh0aGlzLnkpKTtcclxuICAgICAgICAgIHNlbGYuY3R4LmNsb3NlUGF0aCgpO1x0XHRcdFx0XHJcbiAgICAgICAgICBzZWxmLmN0eC5zdHJva2VTdHlsZSA9ICdoc2xhKCcrdGhpcy5odWUrJywgMTAwJSwgJyt0aGlzLmJyaWdodG5lc3MrJyUsICcrdGhpcy5hbHBoYSsnKSc7XHJcbiAgICAgICAgICBzZWxmLmN0eC5zdHJva2UoKTtcdFx0XHRcdFxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBpZihzZWxmLmZsaWNrZXJEZW5zaXR5ID4gMCl7XHJcbiAgICAgICAgICAgICAgdmFyIGludmVyc2VEZW5zaXR5ID0gNTAgLSBzZWxmLmZsaWNrZXJEZW5zaXR5O1x0XHRcdFx0XHRcclxuICAgICAgICAgICAgICBpZihyYW5kKDAsIGludmVyc2VEZW5zaXR5KSA9PT0gaW52ZXJzZURlbnNpdHkpe1xyXG4gICAgICAgICAgICAgICAgICBzZWxmLmN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICAgICAgICAgICAgc2VsZi5jdHguYXJjKE1hdGgucm91bmQodGhpcy54KSwgTWF0aC5yb3VuZCh0aGlzLnkpLCByYW5kKHRoaXMubGluZVdpZHRoLHRoaXMubGluZVdpZHRoKzMpLzIsIDAsIE1hdGguUEkqMiwgZmFsc2UpXHJcbiAgICAgICAgICAgICAgICAgIHNlbGYuY3R4LmNsb3NlUGF0aCgpO1xyXG4gICAgICAgICAgICAgICAgICB2YXIgcmFuZEFscGhhID0gcmFuZCg1MCwxMDApLzEwMDtcclxuICAgICAgICAgICAgICAgICAgc2VsZi5jdHguZmlsbFN0eWxlID0gJ2hzbGEoJyt0aGlzLmh1ZSsnLCAxMDAlLCAnK3RoaXMuYnJpZ2h0bmVzcysnJSwgJytyYW5kQWxwaGErJyknO1xyXG4gICAgICAgICAgICAgICAgICBzZWxmLmN0eC5maWxsKCk7XHJcbiAgICAgICAgICAgICAgfVx0XHJcbiAgICAgICAgICB9XHJcbiAgICAgIH07XHJcbiAgICAgIFxyXG4gICAgICAvKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cdFxyXG4gICAgICAvKiBDcmVhdGUgUGFydGljbGVzXHJcbiAgICAgIC8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xyXG4gICAgICBzZWxmLmNyZWF0ZVBhcnRpY2xlcyA9IGZ1bmN0aW9uKHgseSwgaHVlKXtcclxuICAgICAgICAgIHZhciBjb3VudGRvd24gPSBzZWxmLnBhcnRDb3VudDtcclxuICAgICAgICAgIHdoaWxlKGNvdW50ZG93bi0tKXtcdFx0XHRcdFx0XHRcclxuICAgICAgICAgICAgICBzZWxmLnBhcnRpY2xlcy5wdXNoKG5ldyBQYXJ0aWNsZSh4LCB5LCBodWUpKTtcclxuICAgICAgICAgIH1cclxuICAgICAgfTtcclxuICAgICAgXHJcbiAgICAgIC8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1x0XHJcbiAgICAgIC8qIFVwZGF0ZSBQYXJ0aWNsZXNcclxuICAgICAgLyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXHRcdFxyXG4gICAgICBzZWxmLnVwZGF0ZVBhcnRpY2xlcyA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICB2YXIgaSA9IHNlbGYucGFydGljbGVzLmxlbmd0aDtcclxuICAgICAgICAgIHdoaWxlKGktLSl7XHJcbiAgICAgICAgICAgICAgdmFyIHAgPSBzZWxmLnBhcnRpY2xlc1tpXTtcclxuICAgICAgICAgICAgICBwLnVwZGF0ZShpKTtcclxuICAgICAgICAgIH07XHJcbiAgICAgIH07XHJcbiAgICAgIFxyXG4gICAgICAvKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cdFxyXG4gICAgICAvKiBEcmF3IFBhcnRpY2xlc1xyXG4gICAgICAvKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cclxuICAgICAgc2VsZi5kcmF3UGFydGljbGVzID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgIHZhciBpID0gc2VsZi5wYXJ0aWNsZXMubGVuZ3RoO1xyXG4gICAgICAgICAgd2hpbGUoaS0tKXtcclxuICAgICAgICAgICAgICB2YXIgcCA9IHNlbGYucGFydGljbGVzW2ldO1x0XHRcdFx0XHJcbiAgICAgICAgICAgICAgcC5kcmF3KCk7XHRcdFx0XHRcclxuICAgICAgICAgIH07XHJcbiAgICAgIH07XHJcbiAgICAgIFxyXG4gICAgICAvKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cdFxyXG4gICAgICAvKiBGaXJld29yayBDb25zdHJ1Y3RvclxyXG4gICAgICAvKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cclxuICAgICAgdmFyIEZpcmV3b3JrID0gZnVuY3Rpb24oc3RhcnRYLCBzdGFydFksIHRhcmdldFgsIHRhcmdldFkpe1xyXG4gICAgICAgICAgdGhpcy54ID0gc3RhcnRYO1xyXG4gICAgICAgICAgdGhpcy55ID0gc3RhcnRZO1xyXG4gICAgICAgICAgdGhpcy5zdGFydFggPSBzdGFydFg7XHJcbiAgICAgICAgICB0aGlzLnN0YXJ0WSA9IHN0YXJ0WTtcclxuICAgICAgICAgIHRoaXMuaGl0WCA9IGZhbHNlO1xyXG4gICAgICAgICAgdGhpcy5oaXRZID0gZmFsc2U7XHJcbiAgICAgICAgICB0aGlzLmNvb3JkTGFzdCA9IFtcclxuICAgICAgICAgICAgICB7eDogc3RhcnRYLCB5OiBzdGFydFl9LFxyXG4gICAgICAgICAgICAgIHt4OiBzdGFydFgsIHk6IHN0YXJ0WX0sXHJcbiAgICAgICAgICAgICAge3g6IHN0YXJ0WCwgeTogc3RhcnRZfVxyXG4gICAgICAgICAgXTtcclxuICAgICAgICAgIHRoaXMudGFyZ2V0WCA9IHRhcmdldFg7XHJcbiAgICAgICAgICB0aGlzLnRhcmdldFkgPSB0YXJnZXRZO1xyXG4gICAgICAgICAgdGhpcy5zcGVlZCA9IHNlbGYuZndvcmtTcGVlZDtcclxuICAgICAgICAgIHRoaXMuYW5nbGUgPSBNYXRoLmF0YW4yKHRhcmdldFkgLSBzdGFydFksIHRhcmdldFggLSBzdGFydFgpO1xyXG4gICAgICAgICAgdGhpcy5zaG9ja3dhdmVBbmdsZSA9IE1hdGguYXRhbjIodGFyZ2V0WSAtIHN0YXJ0WSwgdGFyZ2V0WCAtIHN0YXJ0WCkrKDkwKihNYXRoLlBJLzE4MCkpO1xyXG4gICAgICAgICAgdGhpcy5hY2NlbGVyYXRpb24gPSBzZWxmLmZ3b3JrQWNjZWwvMTAwO1xyXG4gICAgICAgICAgdGhpcy5odWUgPSBzZWxmLmN1cnJlbnRIdWU7XHJcbiAgICAgICAgICB0aGlzLmJyaWdodG5lc3MgPSByYW5kKDUwLCA4MCk7XHJcbiAgICAgICAgICB0aGlzLmFscGhhID0gcmFuZCg1MCwxMDApLzEwMDtcclxuICAgICAgICAgIHRoaXMubGluZVdpZHRoID0gc2VsZi5saW5lV2lkdGg7XHJcbiAgICAgICAgICB0aGlzLnRhcmdldFJhZGl1cyA9IDE7XHJcbiAgICAgIH07XHJcbiAgICAgIFxyXG4gICAgICBGaXJld29yay5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24oaW5kZXgpe1xyXG4gICAgICAgICAgc2VsZi5jdHgubGluZVdpZHRoID0gdGhpcy5saW5lV2lkdGg7XHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICB2YXIgdnggPSBNYXRoLmNvcyh0aGlzLmFuZ2xlKSAqIHRoaXMuc3BlZWQsXHJcbiAgICAgICAgICB2eSA9IE1hdGguc2luKHRoaXMuYW5nbGUpICogdGhpcy5zcGVlZDtcclxuICAgICAgICAgIHRoaXMuc3BlZWQgKj0gMSArIHRoaXMuYWNjZWxlcmF0aW9uO1x0XHRcdFx0XHJcbiAgICAgICAgICB0aGlzLmNvb3JkTGFzdFsyXS54ID0gdGhpcy5jb29yZExhc3RbMV0ueDtcclxuICAgICAgICAgIHRoaXMuY29vcmRMYXN0WzJdLnkgPSB0aGlzLmNvb3JkTGFzdFsxXS55O1xyXG4gICAgICAgICAgdGhpcy5jb29yZExhc3RbMV0ueCA9IHRoaXMuY29vcmRMYXN0WzBdLng7XHJcbiAgICAgICAgICB0aGlzLmNvb3JkTGFzdFsxXS55ID0gdGhpcy5jb29yZExhc3RbMF0ueTtcclxuICAgICAgICAgIHRoaXMuY29vcmRMYXN0WzBdLnggPSB0aGlzLng7XHJcbiAgICAgICAgICB0aGlzLmNvb3JkTGFzdFswXS55ID0gdGhpcy55O1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBpZihzZWxmLnNob3dUYXJnZXQpe1xyXG4gICAgICAgICAgICAgIGlmKHRoaXMudGFyZ2V0UmFkaXVzIDwgOCl7XHJcbiAgICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0UmFkaXVzICs9IC4yNSAqIHNlbGYuZHQ7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgdGhpcy50YXJnZXRSYWRpdXMgPSAxICogc2VsZi5kdDtcdFxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgaWYodGhpcy5zdGFydFggPj0gdGhpcy50YXJnZXRYKXtcclxuICAgICAgICAgICAgICBpZih0aGlzLnggKyB2eCA8PSB0aGlzLnRhcmdldFgpe1xyXG4gICAgICAgICAgICAgICAgICB0aGlzLnggPSB0aGlzLnRhcmdldFg7XHJcbiAgICAgICAgICAgICAgICAgIHRoaXMuaGl0WCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgdGhpcy54ICs9IHZ4ICogc2VsZi5kdDtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGlmKHRoaXMueCArIHZ4ID49IHRoaXMudGFyZ2V0WCl7XHJcbiAgICAgICAgICAgICAgICAgIHRoaXMueCA9IHRoaXMudGFyZ2V0WDtcclxuICAgICAgICAgICAgICAgICAgdGhpcy5oaXRYID0gdHJ1ZTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICB0aGlzLnggKz0gdnggKiBzZWxmLmR0O1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgaWYodGhpcy5zdGFydFkgPj0gdGhpcy50YXJnZXRZKXtcclxuICAgICAgICAgICAgICBpZih0aGlzLnkgKyB2eSA8PSB0aGlzLnRhcmdldFkpe1xyXG4gICAgICAgICAgICAgICAgICB0aGlzLnkgPSB0aGlzLnRhcmdldFk7XHJcbiAgICAgICAgICAgICAgICAgIHRoaXMuaGl0WSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgdGhpcy55ICs9IHZ5ICogc2VsZi5kdDtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGlmKHRoaXMueSArIHZ5ID49IHRoaXMudGFyZ2V0WSl7XHJcbiAgICAgICAgICAgICAgICAgIHRoaXMueSA9IHRoaXMudGFyZ2V0WTtcclxuICAgICAgICAgICAgICAgICAgdGhpcy5oaXRZID0gdHJ1ZTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICB0aGlzLnkgKz0gdnkgKiBzZWxmLmR0O1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cdFx0XHRcdFxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBpZih0aGlzLmhpdFggJiYgdGhpcy5oaXRZKXtcclxuICAgICAgICAgICAgICB2YXIgcmFuZEV4cGxvc2lvbiA9IHJhbmQoMCwgOSk7XHJcbiAgICAgICAgICAgICAgc2VsZi5jcmVhdGVQYXJ0aWNsZXModGhpcy50YXJnZXRYLCB0aGlzLnRhcmdldFksIHRoaXMuaHVlKTtcclxuICAgICAgICAgICAgICBzZWxmLmZpcmV3b3Jrcy5zcGxpY2UoaW5kZXgsIDEpO1x0XHRcdFx0XHRcclxuICAgICAgICAgIH1cclxuICAgICAgfTtcclxuICAgICAgXHJcbiAgICAgIEZpcmV3b3JrLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgIHNlbGYuY3R4LmxpbmVXaWR0aCA9IHRoaXMubGluZVdpZHRoO1xyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgdmFyIGNvb3JkUmFuZCA9IChyYW5kKDEsMyktMSk7XHRcdFx0XHRcdFxyXG4gICAgICAgICAgc2VsZi5jdHguYmVnaW5QYXRoKCk7XHRcdFx0XHRcdFx0XHRcclxuICAgICAgICAgIHNlbGYuY3R4Lm1vdmVUbyhNYXRoLnJvdW5kKHRoaXMuY29vcmRMYXN0W2Nvb3JkUmFuZF0ueCksIE1hdGgucm91bmQodGhpcy5jb29yZExhc3RbY29vcmRSYW5kXS55KSk7XHJcbiAgICAgICAgICBzZWxmLmN0eC5saW5lVG8oTWF0aC5yb3VuZCh0aGlzLngpLCBNYXRoLnJvdW5kKHRoaXMueSkpO1xyXG4gICAgICAgICAgc2VsZi5jdHguY2xvc2VQYXRoKCk7XHJcbiAgICAgICAgICBzZWxmLmN0eC5zdHJva2VTdHlsZSA9ICdoc2xhKCcrdGhpcy5odWUrJywgMTAwJSwgJyt0aGlzLmJyaWdodG5lc3MrJyUsICcrdGhpcy5hbHBoYSsnKSc7XHJcbiAgICAgICAgICBzZWxmLmN0eC5zdHJva2UoKTtcdFxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBpZihzZWxmLnNob3dUYXJnZXQpe1xyXG4gICAgICAgICAgICAgIHNlbGYuY3R4LnNhdmUoKTtcclxuICAgICAgICAgICAgICBzZWxmLmN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICAgICAgICBzZWxmLmN0eC5hcmMoTWF0aC5yb3VuZCh0aGlzLnRhcmdldFgpLCBNYXRoLnJvdW5kKHRoaXMudGFyZ2V0WSksIHRoaXMudGFyZ2V0UmFkaXVzLCAwLCBNYXRoLlBJKjIsIGZhbHNlKVxyXG4gICAgICAgICAgICAgIHNlbGYuY3R4LmNsb3NlUGF0aCgpO1xyXG4gICAgICAgICAgICAgIHNlbGYuY3R4LmxpbmVXaWR0aCA9IDE7XHJcbiAgICAgICAgICAgICAgc2VsZi5jdHguc3Ryb2tlKCk7XHJcbiAgICAgICAgICAgICAgc2VsZi5jdHgucmVzdG9yZSgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgaWYoc2VsZi5zaG93U2hvY2t3YXZlKXtcclxuICAgICAgICAgICAgICBzZWxmLmN0eC5zYXZlKCk7XHJcbiAgICAgICAgICAgICAgc2VsZi5jdHgudHJhbnNsYXRlKE1hdGgucm91bmQodGhpcy54KSwgTWF0aC5yb3VuZCh0aGlzLnkpKTtcclxuICAgICAgICAgICAgICBzZWxmLmN0eC5yb3RhdGUodGhpcy5zaG9ja3dhdmVBbmdsZSk7XHJcbiAgICAgICAgICAgICAgc2VsZi5jdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgICAgc2VsZi5jdHguYXJjKDAsIDAsIDEqKHRoaXMuc3BlZWQvNSksIDAsIE1hdGguUEksIHRydWUpO1xyXG4gICAgICAgICAgICAgIHNlbGYuY3R4LnN0cm9rZVN0eWxlID0gJ2hzbGEoJyt0aGlzLmh1ZSsnLCAxMDAlLCAnK3RoaXMuYnJpZ2h0bmVzcysnJSwgJytyYW5kKDI1LCA2MCkvMTAwKycpJztcclxuICAgICAgICAgICAgICBzZWxmLmN0eC5saW5lV2lkdGggPSB0aGlzLmxpbmVXaWR0aDtcclxuICAgICAgICAgICAgICBzZWxmLmN0eC5zdHJva2UoKTtcclxuICAgICAgICAgICAgICBzZWxmLmN0eC5yZXN0b3JlKCk7XHJcbiAgICAgICAgICB9XHRcdFx0XHRcdFx0XHRcdCBcclxuICAgICAgfTtcclxuICAgICAgXHJcbiAgICAgIC8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1x0XHJcbiAgICAgIC8qIENyZWF0ZSBGaXJld29ya3NcclxuICAgICAgLyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXHJcbiAgICAgIHNlbGYuY3JlYXRlRmlyZXdvcmtzID0gZnVuY3Rpb24oc3RhcnRYLCBzdGFydFksIHRhcmdldFgsIHRhcmdldFkpe1x0XHRcdFxyXG4gICAgICAgICAgc2VsZi5maXJld29ya3MucHVzaChuZXcgRmlyZXdvcmsoc3RhcnRYLCBzdGFydFksIHRhcmdldFgsIHRhcmdldFkpKTtcclxuICAgICAgfTtcclxuICAgICAgXHJcbiAgICAgIC8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1x0XHJcbiAgICAgIC8qIFVwZGF0ZSBGaXJld29ya3NcclxuICAgICAgLyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXHRcdFxyXG4gICAgICBzZWxmLnVwZGF0ZUZpcmV3b3JrcyA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICB2YXIgaSA9IHNlbGYuZmlyZXdvcmtzLmxlbmd0aDtcclxuICAgICAgICAgIHdoaWxlKGktLSl7XHJcbiAgICAgICAgICAgICAgdmFyIGYgPSBzZWxmLmZpcmV3b3Jrc1tpXTtcclxuICAgICAgICAgICAgICBmLnVwZGF0ZShpKTtcclxuICAgICAgICAgIH07XHJcbiAgICAgIH07XHJcbiAgICAgIFxyXG4gICAgICAvKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cdFxyXG4gICAgICAvKiBEcmF3IEZpcmV3b3Jrc1xyXG4gICAgICAvKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cclxuICAgICAgc2VsZi5kcmF3RmlyZXdvcmtzID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgIHZhciBpID0gc2VsZi5maXJld29ya3MubGVuZ3RoO1x0XHRcdFxyXG4gICAgICAgICAgd2hpbGUoaS0tKXtcclxuICAgICAgICAgICAgICB2YXIgZiA9IHNlbGYuZmlyZXdvcmtzW2ldO1x0XHRcclxuICAgICAgICAgICAgICBmLmRyYXcoKTtcclxuICAgICAgICAgIH07XHJcbiAgICAgIH07XHJcbiAgICAgIFxyXG4gICAgICAvKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cdFxyXG4gICAgICAvKiBFdmVudHNcclxuICAgICAgLyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXHJcbiAgICAgIHNlbGYuYmluZEV2ZW50cyA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAkKHdpbmRvdykub24oJ3Jlc2l6ZScsIGZ1bmN0aW9uKCl7XHRcdFx0XHJcbiAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHNlbGYudGltZW91dCk7XHJcbiAgICAgICAgICAgICAgc2VsZi50aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgc2VsZi5jdHgubGluZUNhcCA9ICdyb3VuZCc7XHJcbiAgICAgICAgICAgICAgICAgIHNlbGYuY3R4LmxpbmVKb2luID0gJ3JvdW5kJztcclxuICAgICAgICAgICAgICB9LCAxMDApO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgICQoc2VsZi5jYW52YXMpLm9uKCdtb3VzZWRvd24nLCBmdW5jdGlvbihlKXtcclxuICAgICAgICAgICAgICB2YXIgcmFuZExhdW5jaCA9IHJhbmQoMCwgNSk7XHJcbiAgICAgICAgICAgICAgc2VsZi5teCA9IGUucGFnZVggLSBzZWxmLmNhbnZhc0NvbnRhaW5lci5vZmZzZXQoKS5sZWZ0O1xyXG4gICAgICAgICAgICAgIHNlbGYubXkgPSBlLnBhZ2VZIC0gc2VsZi5jYW52YXNDb250YWluZXIub2Zmc2V0KCkudG9wO1xyXG4gICAgICAgICAgICAgIHNlbGYuY3VycmVudEh1ZSA9IHJhbmQoc2VsZi5odWVNaW4sIHNlbGYuaHVlTWF4KTtcclxuICAgICAgICAgICAgICBzZWxmLmNyZWF0ZUZpcmV3b3JrcyhzZWxmLmN3LzIsIHNlbGYuY2gsIHNlbGYubXgsIHNlbGYubXkpO1x0XHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgJChzZWxmLmNhbnZhcykub24oJ21vdXNlbW92ZS5maXJld29ya3MnLCBmdW5jdGlvbihlKXtcclxuICAgICAgICAgICAgICAgICAgdmFyIHJhbmRMYXVuY2ggPSByYW5kKDAsIDUpO1xyXG4gICAgICAgICAgICAgICAgICBzZWxmLm14ID0gZS5wYWdlWCAtIHNlbGYuY2FudmFzQ29udGFpbmVyLm9mZnNldCgpLmxlZnQ7XHJcbiAgICAgICAgICAgICAgICAgIHNlbGYubXkgPSBlLnBhZ2VZIC0gc2VsZi5jYW52YXNDb250YWluZXIub2Zmc2V0KCkudG9wO1xyXG4gICAgICAgICAgICAgICAgICBzZWxmLmN1cnJlbnRIdWUgPSByYW5kKHNlbGYuaHVlTWluLCBzZWxmLmh1ZU1heCk7XHJcbiAgICAgICAgICAgICAgICAgIHNlbGYuY3JlYXRlRmlyZXdvcmtzKHNlbGYuY3cvMiwgc2VsZi5jaCwgc2VsZi5teCwgc2VsZi5teSk7XHRcdFx0XHRcdFx0XHRcdFx0XHJcbiAgICAgICAgICAgICAgfSk7XHRcclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAkKHNlbGYuY2FudmFzKS5vbignbW91c2V1cCcsIGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICAgICAgICQoc2VsZi5jYW52YXMpLm9mZignbW91c2Vtb3ZlLmZpcmV3b3JrcycpO1x0XHRcdFx0XHRcdFx0XHRcdFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXHRcclxuICAgICAgLyogQ2xlYXIgQ2FudmFzXHJcbiAgICAgIC8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xyXG4gICAgICBzZWxmLmNsZWFyID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgIHNlbGYucGFydGljbGVzID0gW107XHJcbiAgICAgICAgICBzZWxmLmZpcmV3b3JrcyA9IFtdO1xyXG4gICAgICAgICAgc2VsZi5jdHguY2xlYXJSZWN0KDAsIDAsIHNlbGYuY3csIHNlbGYuY2gpO1xyXG4gICAgICB9O1xyXG4gICAgXHJcbiAgICAvKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cdFxyXG4gICAgICAvKiBEZWx0YVxyXG4gICAgICAvKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cclxuICAgIHNlbGYudXBkYXRlRGVsdGEgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgdmFyIG5ld1RpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgICAgc2VsZi5kdCA9IChuZXdUaW1lIC0gc2VsZi5vbGRUaW1lKS8xNjtcclxuICAgICAgICAgIHNlbGYuZHQgPSAoc2VsZi5kdCA+IDUpID8gNSA6IHNlbGYuZHQ7XHJcbiAgICAgICAgICBzZWxmLm9sZFRpbWUgPSBuZXdUaW1lO1x0XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIC8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1x0XHJcbiAgICAgIC8qIE1haW4gTG9vcFxyXG4gICAgICAvKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cclxuICAgICAgc2VsZi5jYW52YXNMb29wID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgIHJlcXVlc3RBbmltRnJhbWUoc2VsZi5jYW52YXNMb29wLCBzZWxmLmNhbnZhcyk7XHJcbiAgICAgIHNlbGYudXBkYXRlRGVsdGEoKTtcclxuICAgICAgICAgIHNlbGYuY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdkZXN0aW5hdGlvbi1vdXQnO1xyXG4gICAgICAgICAgc2VsZi5jdHguZmlsbFN0eWxlID0gJ3JnYmEoMCwwLDAsJytzZWxmLmNsZWFyQWxwaGEvMTAwKycpJztcclxuICAgICAgICAgIHNlbGYuY3R4LmZpbGxSZWN0KDAsMCxzZWxmLmN3LHNlbGYuY2gpO1xyXG4gICAgICAgICAgc2VsZi5jdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ2xpZ2h0ZXInO1xyXG4gICAgICAgICAgc2VsZi51cGRhdGVGaXJld29ya3MoKTtcclxuICAgICAgICAgIHNlbGYudXBkYXRlUGFydGljbGVzKCk7XHJcbiAgICAgICAgICBzZWxmLmRyYXdGaXJld29ya3MoKTtcdFx0XHRcclxuICAgICAgICAgIHNlbGYuZHJhd1BhcnRpY2xlcygpO1x0XHRcdFxyXG4gICAgICB9O1xyXG4gICAgICBcclxuICAgICAgc2VsZi5pbml0KCk7XHJcbiAgICBcclxuICAgIHZhciBpbml0aWFsTGF1bmNoQ291bnQgPSAxMDAwO1xyXG4gICAgd2hpbGUoaW5pdGlhbExhdW5jaENvdW50LS0pe1xyXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgc2VsZi5maXJld29ya3MucHVzaChuZXcgRmlyZXdvcmsoc2VsZi5jdy8yLCBzZWxmLmNoLCByYW5kKDUwLCBzZWxmLmN3LTUwKSwgcmFuZCg1MCwgc2VsZi5jaC8yKS01MCkpO1xyXG4gICAgICB9LCBpbml0aWFsTGF1bmNoQ291bnQqMjAwKTtcclxuICAgIH1cclxuICAgICAgXHJcbiAgfVxyXG4gIFxyXG4gIC8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1x0XHJcbiAgLyogR1VJXHJcbiAgLyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXHRcclxuICB2YXIgZ3VpUHJlc2V0cyA9IHtcclxuICAgICAgICAgICAgICAgIFwicHJlc2V0XCI6IFwiRGVmYXVsdFwiLFxyXG4gICAgICAgICAgICAgICAgXCJyZW1lbWJlcmVkXCI6IHtcclxuICAgICAgICAgICAgICAgICAgXCJEZWZhdWx0XCI6IHtcclxuICAgICAgICAgICAgICAgICAgICBcIjBcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgXCJmd29ya1NwZWVkXCI6IDIsXHJcbiAgICAgICAgICAgICAgICAgICAgICBcImZ3b3JrQWNjZWxcIjogNCxcclxuICAgICAgICAgICAgICAgICAgICAgIFwic2hvd1Nob2Nrd2F2ZVwiOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgIFwic2hvd1RhcmdldFwiOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgXCJwYXJ0Q291bnRcIjogMzAsXHJcbiAgICAgICAgICAgICAgICAgICAgICBcInBhcnRTcGVlZFwiOiA1LFxyXG4gICAgICAgICAgICAgICAgICAgICAgXCJwYXJ0U3BlZWRWYXJpYW5jZVwiOiAxMCxcclxuICAgICAgICAgICAgICAgICAgICAgIFwicGFydFdpbmRcIjogNTAsXHJcbiAgICAgICAgICAgICAgICAgICAgICBcInBhcnRGcmljdGlvblwiOiA1LFxyXG4gICAgICAgICAgICAgICAgICAgICAgXCJwYXJ0R3Jhdml0eVwiOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgXCJmbGlja2VyRGVuc2l0eVwiOiAyMCxcclxuICAgICAgICAgICAgICAgICAgICAgIFwiaHVlTWluXCI6IDE1MCxcclxuICAgICAgICAgICAgICAgICAgICAgIFwiaHVlTWF4XCI6IDIwMCxcclxuICAgICAgICAgICAgICAgICAgICAgIFwiaHVlVmFyaWFuY2VcIjogMzAsXHJcbiAgICAgICAgICAgICAgICAgICAgICBcImxpbmVXaWR0aFwiOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgXCJjbGVhckFscGhhXCI6IDI1XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICBcIkFudGkgR3Jhdml0eVwiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCIwXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgIFwiZndvcmtTcGVlZFwiOiA0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgXCJmd29ya0FjY2VsXCI6IDEwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgXCJzaG93U2hvY2t3YXZlXCI6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICBcInNob3dUYXJnZXRcIjogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICBcInBhcnRDb3VudFwiOiAxNTAsXHJcbiAgICAgICAgICAgICAgICAgICAgICBcInBhcnRTcGVlZFwiOiA1LFxyXG4gICAgICAgICAgICAgICAgICAgICAgXCJwYXJ0U3BlZWRWYXJpYW5jZVwiOiAxMCxcclxuICAgICAgICAgICAgICAgICAgICAgIFwicGFydFdpbmRcIjogMTAsXHJcbiAgICAgICAgICAgICAgICAgICAgICBcInBhcnRGcmljdGlvblwiOiAxMCxcclxuICAgICAgICAgICAgICAgICAgICAgIFwicGFydEdyYXZpdHlcIjogLTEwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgXCJmbGlja2VyRGVuc2l0eVwiOiAzMCxcclxuICAgICAgICAgICAgICAgICAgICAgIFwiaHVlTWluXCI6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICBcImh1ZU1heFwiOiAzNjAsXHJcbiAgICAgICAgICAgICAgICAgICAgICBcImh1ZVZhcmlhbmNlXCI6IDMwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgXCJsaW5lV2lkdGhcIjogMSxcclxuICAgICAgICAgICAgICAgICAgICAgIFwiY2xlYXJBbHBoYVwiOiA1MFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgXCJCYXR0bGUgRmllbGRcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgIFwiMFwiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBcImZ3b3JrU3BlZWRcIjogMTAsXHJcbiAgICAgICAgICAgICAgICAgICAgICBcImZ3b3JrQWNjZWxcIjogMjAsXHJcbiAgICAgICAgICAgICAgICAgICAgICBcInNob3dTaG9ja3dhdmVcIjogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgIFwic2hvd1RhcmdldFwiOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgXCJwYXJ0Q291bnRcIjogMjAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgXCJwYXJ0U3BlZWRcIjogMzAsXHJcbiAgICAgICAgICAgICAgICAgICAgICBcInBhcnRTcGVlZFZhcmlhbmNlXCI6IDUsXHJcbiAgICAgICAgICAgICAgICAgICAgICBcInBhcnRXaW5kXCI6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICBcInBhcnRGcmljdGlvblwiOiA1LFxyXG4gICAgICAgICAgICAgICAgICAgICAgXCJwYXJ0R3Jhdml0eVwiOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgXCJmbGlja2VyRGVuc2l0eVwiOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgXCJodWVNaW5cIjogMjAsXHJcbiAgICAgICAgICAgICAgICAgICAgICBcImh1ZU1heFwiOiAzMCxcclxuICAgICAgICAgICAgICAgICAgICAgIFwiaHVlVmFyaWFuY2VcIjogMTAsXHJcbiAgICAgICAgICAgICAgICAgICAgICBcImxpbmVXaWR0aFwiOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgXCJjbGVhckFscGhhXCI6IDQwXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICBcIk1lZ2EgQmxhc3RcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgIFwiMFwiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBcImZ3b3JrU3BlZWRcIjogMyxcclxuICAgICAgICAgICAgICAgICAgICAgIFwiZndvcmtBY2NlbFwiOiAzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgXCJzaG93U2hvY2t3YXZlXCI6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICBcInNob3dUYXJnZXRcIjogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgIFwicGFydENvdW50XCI6IDUwMCxcclxuICAgICAgICAgICAgICAgICAgICAgIFwicGFydFNwZWVkXCI6IDUwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgXCJwYXJ0U3BlZWRWYXJpYW5jZVwiOiA1LFxyXG4gICAgICAgICAgICAgICAgICAgICAgXCJwYXJ0V2luZFwiOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgXCJwYXJ0RnJpY3Rpb25cIjogMCxcclxuICAgICAgICAgICAgICAgICAgICAgIFwicGFydEdyYXZpdHlcIjogMCxcclxuICAgICAgICAgICAgICAgICAgICAgIFwiZmxpY2tlckRlbnNpdHlcIjogMCxcclxuICAgICAgICAgICAgICAgICAgICAgIFwiaHVlTWluXCI6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICBcImh1ZU1heFwiOiAzNjAsXHJcbiAgICAgICAgICAgICAgICAgICAgICBcImh1ZVZhcmlhbmNlXCI6IDMwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgXCJsaW5lV2lkdGhcIjogMjAsXHJcbiAgICAgICAgICAgICAgICAgICAgICBcImNsZWFyQWxwaGFcIjogMjBcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgIFwiTmltYmxlXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICBcIjBcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgXCJmd29ya1NwZWVkXCI6IDEwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgXCJmd29ya0FjY2VsXCI6IDUwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgXCJzaG93U2hvY2t3YXZlXCI6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgXCJzaG93VGFyZ2V0XCI6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgXCJwYXJ0Q291bnRcIjogMTIwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgXCJwYXJ0U3BlZWRcIjogMTAsXHJcbiAgICAgICAgICAgICAgICAgICAgICBcInBhcnRTcGVlZFZhcmlhbmNlXCI6IDEwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgXCJwYXJ0V2luZFwiOiAxMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICBcInBhcnRGcmljdGlvblwiOiA1MCxcclxuICAgICAgICAgICAgICAgICAgICAgIFwicGFydEdyYXZpdHlcIjogMCxcclxuICAgICAgICAgICAgICAgICAgICAgIFwiZmxpY2tlckRlbnNpdHlcIjogMjAsXHJcbiAgICAgICAgICAgICAgICAgICAgICBcImh1ZU1pblwiOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgXCJodWVNYXhcIjogMzYwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgXCJodWVWYXJpYW5jZVwiOiAzMCxcclxuICAgICAgICAgICAgICAgICAgICAgIFwibGluZVdpZHRoXCI6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICBcImNsZWFyQWxwaGFcIjogODBcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgIFwiU2xvdyBMYXVuY2hcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgIFwiMFwiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBcImZ3b3JrU3BlZWRcIjogMixcclxuICAgICAgICAgICAgICAgICAgICAgIFwiZndvcmtBY2NlbFwiOiAyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgXCJzaG93U2hvY2t3YXZlXCI6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgXCJzaG93VGFyZ2V0XCI6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgXCJwYXJ0Q291bnRcIjogMjAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgXCJwYXJ0U3BlZWRcIjogMTAsXHJcbiAgICAgICAgICAgICAgICAgICAgICBcInBhcnRTcGVlZFZhcmlhbmNlXCI6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICBcInBhcnRXaW5kXCI6IDEwMCxcclxuICAgICAgICAgICAgICAgICAgICAgIFwicGFydEZyaWN0aW9uXCI6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICBcInBhcnRHcmF2aXR5XCI6IDIsXHJcbiAgICAgICAgICAgICAgICAgICAgICBcImZsaWNrZXJEZW5zaXR5XCI6IDUwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgXCJodWVNaW5cIjogMCxcclxuICAgICAgICAgICAgICAgICAgICAgIFwiaHVlTWF4XCI6IDM2MCxcclxuICAgICAgICAgICAgICAgICAgICAgIFwiaHVlVmFyaWFuY2VcIjogMjAsXHJcbiAgICAgICAgICAgICAgICAgICAgICBcImxpbmVXaWR0aFwiOiA0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgXCJjbGVhckFscGhhXCI6IDEwXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICBcIlBlcm1hIFRyYWlsXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICBcIjBcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgXCJmd29ya1NwZWVkXCI6IDQsXHJcbiAgICAgICAgICAgICAgICAgICAgICBcImZ3b3JrQWNjZWxcIjogMTAsXHJcbiAgICAgICAgICAgICAgICAgICAgICBcInNob3dTaG9ja3dhdmVcIjogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICBcInNob3dUYXJnZXRcIjogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICBcInBhcnRDb3VudFwiOiAxNTAsXHJcbiAgICAgICAgICAgICAgICAgICAgICBcInBhcnRTcGVlZFwiOiAxMCxcclxuICAgICAgICAgICAgICAgICAgICAgIFwicGFydFNwZWVkVmFyaWFuY2VcIjogMTAsXHJcbiAgICAgICAgICAgICAgICAgICAgICBcInBhcnRXaW5kXCI6IDEwMCxcclxuICAgICAgICAgICAgICAgICAgICAgIFwicGFydEZyaWN0aW9uXCI6IDMsXHJcbiAgICAgICAgICAgICAgICAgICAgICBcInBhcnRHcmF2aXR5XCI6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICBcImZsaWNrZXJEZW5zaXR5XCI6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICBcImh1ZU1pblwiOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgXCJodWVNYXhcIjogMzYwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgXCJodWVWYXJpYW5jZVwiOiAyMCxcclxuICAgICAgICAgICAgICAgICAgICAgIFwibGluZVdpZHRoXCI6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICBcImNsZWFyQWxwaGFcIjogMFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIFwiY2xvc2VkXCI6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBcImZvbGRlcnNcIjoge1xyXG4gICAgICAgICAgICAgICAgICBcIkZpcmV3b3Jrc1wiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJwcmVzZXRcIjogXCJEZWZhdWx0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJjbG9zZWRcIjogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJmb2xkZXJzXCI6IHt9XHJcbiAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgIFwiUGFydGljbGVzXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICBcInByZXNldFwiOiBcIkRlZmF1bHRcIixcclxuICAgICAgICAgICAgICAgICAgICBcImNsb3NlZFwiOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiZm9sZGVyc1wiOiB7fVxyXG4gICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICBcIkNvbG9yXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICBcInByZXNldFwiOiBcIkRlZmF1bHRcIixcclxuICAgICAgICAgICAgICAgICAgICBcImNsb3NlZFwiOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiZm9sZGVyc1wiOiB7fVxyXG4gICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICBcIk90aGVyXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICBcInByZXNldFwiOiBcIkRlZmF1bHRcIixcclxuICAgICAgICAgICAgICAgICAgICBcImNsb3NlZFwiOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiZm9sZGVyc1wiOiB7fVxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfTtcclxuICBcclxuICBcclxuICB2YXIgZndvcmtzID0gbmV3IEZpcmV3b3JrcygpO1xyXG4gIHZhciBndWkgPSBuZXcgZGF0LkdVSSh7XHJcbiAgICAgIGF1dG9QbGFjZTogZmFsc2UsXHJcbiAgICAgIGxvYWQ6IGd1aVByZXNldHMsXHJcbiAgICAgIHByZXNldDogJ0RlZmF1bHQnXHJcbiAgfSk7XHJcbiAgdmFyIGN1c3RvbUNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdndWknKTtcclxuICBjdXN0b21Db250YWluZXIuYXBwZW5kQ2hpbGQoZ3VpLmRvbUVsZW1lbnQpO1xyXG4gIFxyXG4gIHZhciBndWlGaXJld29ya3MgPSBndWkuYWRkRm9sZGVyKCdGaXJld29ya3MnKTtcclxuICBndWlGaXJld29ya3MuYWRkKGZ3b3JrcywgJ2Z3b3JrU3BlZWQnKS5taW4oMSkubWF4KDEwKS5zdGVwKDEpO1xyXG4gIGd1aUZpcmV3b3Jrcy5hZGQoZndvcmtzLCAnZndvcmtBY2NlbCcpLm1pbigwKS5tYXgoNTApLnN0ZXAoMSk7XHJcbiAgZ3VpRmlyZXdvcmtzLmFkZChmd29ya3MsICdzaG93U2hvY2t3YXZlJyk7XHJcbiAgZ3VpRmlyZXdvcmtzLmFkZChmd29ya3MsICdzaG93VGFyZ2V0Jyk7XHJcbiAgXHJcbiAgdmFyIGd1aVBhcnRpY2xlcyA9IGd1aS5hZGRGb2xkZXIoJ1BhcnRpY2xlcycpO1xyXG4gIGd1aVBhcnRpY2xlcy5hZGQoZndvcmtzLCAncGFydENvdW50JykubWluKDApLm1heCg1MDApLnN0ZXAoMSk7XHRcclxuICBndWlQYXJ0aWNsZXMuYWRkKGZ3b3JrcywgJ3BhcnRTcGVlZCcpLm1pbigxKS5tYXgoMTAwKS5zdGVwKDEpO1xyXG4gIGd1aVBhcnRpY2xlcy5hZGQoZndvcmtzLCAncGFydFNwZWVkVmFyaWFuY2UnKS5taW4oMCkubWF4KDUwKS5zdGVwKDEpO1xyXG4gIGd1aVBhcnRpY2xlcy5hZGQoZndvcmtzLCAncGFydFdpbmQnKS5taW4oMCkubWF4KDEwMCkuc3RlcCgxKTtcclxuICBndWlQYXJ0aWNsZXMuYWRkKGZ3b3JrcywgJ3BhcnRGcmljdGlvbicpLm1pbigwKS5tYXgoNTApLnN0ZXAoMSk7XHJcbiAgZ3VpUGFydGljbGVzLmFkZChmd29ya3MsICdwYXJ0R3Jhdml0eScpLm1pbigtMjApLm1heCgyMCkuc3RlcCgxKTtcclxuICBndWlQYXJ0aWNsZXMuYWRkKGZ3b3JrcywgJ2ZsaWNrZXJEZW5zaXR5JykubWluKDApLm1heCg1MCkuc3RlcCgxKTtcclxuICBcclxuICB2YXIgZ3VpQ29sb3IgPSBndWkuYWRkRm9sZGVyKCdDb2xvcicpO1xyXG4gIGd1aUNvbG9yLmFkZChmd29ya3MsICdodWVNaW4nKS5taW4oMCkubWF4KDM2MCkuc3RlcCgxKTtcclxuICBndWlDb2xvci5hZGQoZndvcmtzLCAnaHVlTWF4JykubWluKDApLm1heCgzNjApLnN0ZXAoMSk7XHJcbiAgZ3VpQ29sb3IuYWRkKGZ3b3JrcywgJ2h1ZVZhcmlhbmNlJykubWluKDApLm1heCgxODApLnN0ZXAoMSk7XHJcbiAgXHJcbiAgdmFyIGd1aU90aGVyID0gZ3VpLmFkZEZvbGRlcignT3RoZXInKTtcclxuICBndWlPdGhlci5hZGQoZndvcmtzLCAnbGluZVdpZHRoJykubWluKDEpLm1heCgyMCkuc3RlcCgxKTtcclxuICBndWlPdGhlci5hZGQoZndvcmtzLCAnY2xlYXJBbHBoYScpLm1pbigwKS5tYXgoMTAwKS5zdGVwKDEpO1xyXG4gIGd1aU90aGVyLmFkZChmd29ya3MsICdjbGVhcicpLm5hbWUoJ0NsZWFyJyk7XHJcbiAgXHJcbiAgZ3VpLnJlbWVtYmVyKGZ3b3Jrcyk7XHJcbiAgICB9XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgIGNvbnN0IHN0eWxlID0gJydcclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgPGRpdiBpZD1cImd1aVwiPjwvZGl2Plx0XHRcclxuICAgICAgICAgIDxkaXYgaWQ9XCJjYW52YXMtY29udGFpbmVyXCI+XHJcbiAgICAgICAgICAgIDxkaXYgaWQ9XCJtb3VudGFpbnMyXCI+PC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgaWQ9XCJtb3VudGFpbnMxXCI+PC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgaWQ9XCJza3lsaW5lXCI+PC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxzdHlsZSBqc3g+e2BcclxuICAgICAgICBodG1sLCBib2R5IHtcclxuICAgICAgICAgICAgbWFyZ2luOiAwO1x0XHJcbiAgICAgICAgICAgIHBhZGRpbmc6IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGJvZHkge1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiAjMTcxNzE3O1xyXG4gICAgICAgICAgICBjb2xvcjogIzk5OTtcclxuICAgICAgICAgICAgZm9udDogMTAwJS8xOHB4IGhlbHZldGljYSwgYXJpYWwsIHNhbnMtc2VyaWY7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGEge1xyXG4gICAgICAgICAgICBjb2xvcjogIzJmYTFkNjtcclxuICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICAgICAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgYTpob3ZlciB7XHJcbiAgICAgICAgICAgIGNvbG9yOiAjZmZmO1x0XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgICNjYW52YXMtY29udGFpbmVyIHtcclxuICAgICAgICAgICAgYmFja2dyb3VuZDogIzAwMCB1cmwoaHR0cHM6Ly9qYWNrcnVnaWxlLmNvbS9sYWIvZmlyZXdvcmtzLXYyL2ltYWdlcy9iZy5qcGcpO1xyXG4gICAgICAgICAgLypoZWlnaHQ6IDQwMHB4OyovXHJcbiAgICAgICAgICAgIC8qbGVmdDogNTAlOyovXHJcbiAgICAgICAgICAgIC8qbWFyZ2luOiAtMjAwcHggMCAwIC0zMDBweDsqL1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgICAgIC8qdG9wOiA1MCU7Ki9cclxuICAgICAgICAgIC8qd2lkdGg6IDYwMHB4OyovXHJcbiAgICAgICAgICAgIHotaW5kZXg6IDI7XHJcbiAgICAgICAgICBtYXJnaW46IDA7XHJcbiAgICAgICAgICB0b3A6IDA7XHJcbiAgICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICAgIGhlaWdodDogMTAwJTtcclxuICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICBjYW52YXMge1xyXG4gICAgICAgICAgICBjdXJzb3I6IGNyb3NzaGFpcjtcclxuICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgICAgICAgICAgei1pbmRleDogMztcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGNhbnZhczphY3RpdmUge1xyXG4gICAgICAgICAgICBjdXJzb3I6IGNyb3NzaGFpcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgI3NreWxpbmUge1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiB1cmwoaHR0cHM6Ly9qYWNrcnVnaWxlLmNvbS9sYWIvZmlyZXdvcmtzLXYyL2ltYWdlcy9za3lsaW5lLnBuZykgcmVwZWF0LXggNTAlIDA7XHJcbiAgICAgICAgICAgIGJvdHRvbTogMDtcclxuICAgICAgICAgICAgaGVpZ2h0OiAxMzVweDtcclxuICAgICAgICAgICAgbGVmdDogMDtcclxuICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICAgICAgei1pbmRleDogMTtcdFxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAjbW91bnRhaW5zMSB7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IHVybChodHRwczovL2phY2tydWdpbGUuY29tL2xhYi9maXJld29ya3MtdjIvaW1hZ2VzL21vdW50YWluczEucG5nKSByZXBlYXQteCA0MCUgMDtcclxuICAgICAgICAgICAgYm90dG9tOiAwO1xyXG4gICAgICAgICAgICBoZWlnaHQ6IDIwMHB4O1xyXG4gICAgICAgICAgICBsZWZ0OiAwO1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgICAgICB6LWluZGV4OiAxO1x0XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgICNtb3VudGFpbnMyIHtcclxuICAgICAgICAgICAgYmFja2dyb3VuZDogdXJsKGh0dHBzOi8vamFja3J1Z2lsZS5jb20vbGFiL2ZpcmV3b3Jrcy12Mi9pbWFnZXMvbW91bnRhaW5zMi5wbmcpIHJlcGVhdC14IDMwJSAwO1xyXG4gICAgICAgICAgICBib3R0b206IDA7XHJcbiAgICAgICAgICAgIGhlaWdodDogMjUwcHg7XHJcbiAgICAgICAgICAgIGxlZnQ6IDA7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgICAgIHotaW5kZXg6IDE7XHRcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgI2d1aSB7XHJcbiAgICAgICAgICAgIHJpZ2h0OiAwO1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgICAgICAgICAgIHRvcDogMDtcclxuICAgICAgICAgICAgei1pbmRleDogMztcclxuICAgICAgICB9XHJcbiAgICAgIGB9PC9zdHlsZT5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZXhwb3J0IGRlZmF1bHQgRmlyZXdvcmtzOyJdfQ== */\\n/*@ sourceURL=C:\\\\\\\\Users\\\\\\\\hp\\\\\\\\Desktop\\\\\\\\Project\\\\\\\\anusha\\\\\\\\wedding\\\\\\\\components\\\\\\\\fireworks.js */\"));\n    }\n  }]);\n\n  return Fireworks;\n}(React.Component);\n\nexport default Fireworks;","map":{"version":3,"sources":["C:/Users/hp/Desktop/Project/anusha/wedding/components/fireworks.js"],"names":["React","Fireworks","setup","self","rand","rMi","rMa","Math","random","hitTest","x1","y1","w1","h1","x2","y2","w2","h2","window","requestAnimFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","a","setTimeout","init","dt","oldTime","canvas","document","createElement","canvasContainer","$","canvasContainerDisabled","getElementById","onselectstart","width","cw","height","ch","particles","partCount","fireworks","mx","my","currentHue","partSpeed","partSpeedVariance","partWind","partFriction","partGravity","hueMin","hueMax","fworkSpeed","fworkAccel","hueVariance","flickerDensity","showShockwave","showTarget","clearAlpha","append","ctx","getContext","lineCap","lineJoin","lineWidth","bindEvents","canvasLoop","Particle","x","y","hue","coordLast","angle","speed","friction","gravity","brightness","alpha","decay","wind","prototype","update","index","radians","PI","vx","cos","vy","sin","radius","splice","draw","coordRand","beginPath","moveTo","round","lineTo","closePath","strokeStyle","stroke","inverseDensity","arc","randAlpha","fillStyle","fill","createParticles","countdown","push","updateParticles","i","length","p","drawParticles","Firework","startX","startY","targetX","targetY","hitX","hitY","atan2","shockwaveAngle","acceleration","targetRadius","randExplosion","save","restore","translate","rotate","createFireworks","updateFireworks","f","drawFireworks","on","clearTimeout","timeout","e","randLaunch","pageX","offset","left","pageY","top","off","clear","clearRect","updateDelta","newTime","globalCompositeOperation","fillRect","initialLaunchCount","guiPresets","fworks","gui","dat","GUI","autoPlace","load","preset","customContainer","appendChild","domElement","guiFireworks","addFolder","add","min","max","step","guiParticles","guiColor","guiOther","name","remember","style","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\n\r\n\r\nclass Fireworks extends React.Component {\r\n    state={}\r\n    componentDidMount() {\r\n      this.setup()\r\n    }\r\n    setup() {\r\n      var Fireworks = function(){\r\n      /*=============================================================================*/\t\r\n      /* Utility\r\n      /*=============================================================================*/\r\n      var self = this;\r\n      var rand = function(rMi, rMa){return ~~((Math.random()*(rMa-rMi+1))+rMi);}\r\n      var hitTest = function(x1, y1, w1, h1, x2, y2, w2, h2){return !(x1 + w1 < x2 || x2 + w2 < x1 || y1 + h1 < y2 || y2 + h2 < y1);};\r\n      window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1E3/60)}}();\r\n      \r\n      /*=============================================================================*/\t\r\n      /* Initialize\r\n      /*=============================================================================*/\r\n      self.init = function(){\t\r\n      self.dt = 0;\r\n          self.oldTime = Date.now();\r\n          self.canvas = document.createElement('canvas');\t\t\t\t\r\n          self.canvasContainer = $('#canvas-container');\r\n          \r\n          var canvasContainerDisabled = document.getElementById('canvas-container');\r\n          self.canvas.onselectstart = function() {\r\n              return false;\r\n          };\r\n          \r\n          self.canvas.width = self.cw = 600;\r\n          self.canvas.height = self.ch = 400;\t\r\n          \r\n          self.particles = [];\t\r\n          self.partCount = 30;\r\n          self.fireworks = [];\t\r\n          self.mx = self.cw/2;\r\n          self.my = self.ch/2;\r\n          self.currentHue = 170;\r\n          self.partSpeed = 5;\r\n          self.partSpeedVariance = 10;\r\n          self.partWind = 50;\r\n          self.partFriction = 5;\r\n          self.partGravity = 1;\r\n          self.hueMin = 150;\r\n          self.hueMax = 200;\r\n          self.fworkSpeed = 2;\r\n          self.fworkAccel = 4;\r\n          self.hueVariance = 30;\r\n          self.flickerDensity = 20;\r\n          self.showShockwave = false;\r\n          self.showTarget = true;\r\n          self.clearAlpha = 25;\r\n  \r\n          self.canvasContainer.append(self.canvas);\r\n          self.ctx = self.canvas.getContext('2d');\r\n          self.ctx.lineCap = 'round';\r\n          self.ctx.lineJoin = 'round';\r\n          self.lineWidth = 1;\r\n          self.bindEvents();\t\t\t\r\n          self.canvasLoop();\r\n          \r\n          self.canvas.onselectstart = function() {\r\n              return false;\r\n          };\r\n      \r\n          \r\n      };\t\t\r\n      \r\n      /*=============================================================================*/\t\r\n      /* Particle Constructor\r\n      /*=============================================================================*/\r\n      var Particle = function(x, y, hue){\r\n          this.x = x;\r\n          this.y = y;\r\n          this.coordLast = [\r\n              {x: x, y: y},\r\n              {x: x, y: y},\r\n              {x: x, y: y}\r\n          ];\r\n          this.angle = rand(0, 360);\r\n          this.speed = rand(((self.partSpeed - self.partSpeedVariance) <= 0) ? 1 : self.partSpeed - self.partSpeedVariance, (self.partSpeed + self.partSpeedVariance));\r\n          this.friction = 1 - self.partFriction/100;\r\n          this.gravity = self.partGravity/2;\r\n          this.hue = rand(hue-self.hueVariance, hue+self.hueVariance);\r\n          this.brightness = rand(50, 80);\r\n          this.alpha = rand(40,100)/100;\r\n          this.decay = rand(10, 50)/1000;\r\n          this.wind = (rand(0, self.partWind) - (self.partWind/2))/25;\r\n          this.lineWidth = self.lineWidth;\r\n      };\r\n      \r\n      Particle.prototype.update = function(index){\r\n          var radians = this.angle * Math.PI / 180;\r\n          var vx = Math.cos(radians) * this.speed;\r\n          var vy = Math.sin(radians) * this.speed + this.gravity;\r\n          this.speed *= this.friction;\r\n                          \r\n          this.coordLast[2].x = this.coordLast[1].x;\r\n          this.coordLast[2].y = this.coordLast[1].y;\r\n          this.coordLast[1].x = this.coordLast[0].x;\r\n          this.coordLast[1].y = this.coordLast[0].y;\r\n          this.coordLast[0].x = this.x;\r\n          this.coordLast[0].y = this.y;\r\n          \r\n          this.x += vx * self.dt;\r\n          this.y += vy * self.dt;\r\n          \r\n          this.angle += this.wind;\t\t\t\t\r\n          this.alpha -= this.decay;\r\n          \r\n          if(!hitTest(0,0,self.cw,self.ch,this.x-this.radius, this.y-this.radius, this.radius*2, this.radius*2) || this.alpha < .05){\t\t\t\t\t\r\n              self.particles.splice(index, 1);\t\r\n          }\t\t\t\r\n      };\r\n      \r\n      Particle.prototype.draw = function(){\r\n          var coordRand = (rand(1,3)-1);\r\n          self.ctx.beginPath();\t\t\t\t\t\t\t\t\r\n          self.ctx.moveTo(Math.round(this.coordLast[coordRand].x), Math.round(this.coordLast[coordRand].y));\r\n          self.ctx.lineTo(Math.round(this.x), Math.round(this.y));\r\n          self.ctx.closePath();\t\t\t\t\r\n          self.ctx.strokeStyle = 'hsla('+this.hue+', 100%, '+this.brightness+'%, '+this.alpha+')';\r\n          self.ctx.stroke();\t\t\t\t\r\n          \r\n          if(self.flickerDensity > 0){\r\n              var inverseDensity = 50 - self.flickerDensity;\t\t\t\t\t\r\n              if(rand(0, inverseDensity) === inverseDensity){\r\n                  self.ctx.beginPath();\r\n                  self.ctx.arc(Math.round(this.x), Math.round(this.y), rand(this.lineWidth,this.lineWidth+3)/2, 0, Math.PI*2, false)\r\n                  self.ctx.closePath();\r\n                  var randAlpha = rand(50,100)/100;\r\n                  self.ctx.fillStyle = 'hsla('+this.hue+', 100%, '+this.brightness+'%, '+randAlpha+')';\r\n                  self.ctx.fill();\r\n              }\t\r\n          }\r\n      };\r\n      \r\n      /*=============================================================================*/\t\r\n      /* Create Particles\r\n      /*=============================================================================*/\r\n      self.createParticles = function(x,y, hue){\r\n          var countdown = self.partCount;\r\n          while(countdown--){\t\t\t\t\t\t\r\n              self.particles.push(new Particle(x, y, hue));\r\n          }\r\n      };\r\n      \r\n      /*=============================================================================*/\t\r\n      /* Update Particles\r\n      /*=============================================================================*/\t\t\r\n      self.updateParticles = function(){\r\n          var i = self.particles.length;\r\n          while(i--){\r\n              var p = self.particles[i];\r\n              p.update(i);\r\n          };\r\n      };\r\n      \r\n      /*=============================================================================*/\t\r\n      /* Draw Particles\r\n      /*=============================================================================*/\r\n      self.drawParticles = function(){\r\n          var i = self.particles.length;\r\n          while(i--){\r\n              var p = self.particles[i];\t\t\t\t\r\n              p.draw();\t\t\t\t\r\n          };\r\n      };\r\n      \r\n      /*=============================================================================*/\t\r\n      /* Firework Constructor\r\n      /*=============================================================================*/\r\n      var Firework = function(startX, startY, targetX, targetY){\r\n          this.x = startX;\r\n          this.y = startY;\r\n          this.startX = startX;\r\n          this.startY = startY;\r\n          this.hitX = false;\r\n          this.hitY = false;\r\n          this.coordLast = [\r\n              {x: startX, y: startY},\r\n              {x: startX, y: startY},\r\n              {x: startX, y: startY}\r\n          ];\r\n          this.targetX = targetX;\r\n          this.targetY = targetY;\r\n          this.speed = self.fworkSpeed;\r\n          this.angle = Math.atan2(targetY - startY, targetX - startX);\r\n          this.shockwaveAngle = Math.atan2(targetY - startY, targetX - startX)+(90*(Math.PI/180));\r\n          this.acceleration = self.fworkAccel/100;\r\n          this.hue = self.currentHue;\r\n          this.brightness = rand(50, 80);\r\n          this.alpha = rand(50,100)/100;\r\n          this.lineWidth = self.lineWidth;\r\n          this.targetRadius = 1;\r\n      };\r\n      \r\n      Firework.prototype.update = function(index){\r\n          self.ctx.lineWidth = this.lineWidth;\r\n              \r\n          var vx = Math.cos(this.angle) * this.speed,\r\n          vy = Math.sin(this.angle) * this.speed;\r\n          this.speed *= 1 + this.acceleration;\t\t\t\t\r\n          this.coordLast[2].x = this.coordLast[1].x;\r\n          this.coordLast[2].y = this.coordLast[1].y;\r\n          this.coordLast[1].x = this.coordLast[0].x;\r\n          this.coordLast[1].y = this.coordLast[0].y;\r\n          this.coordLast[0].x = this.x;\r\n          this.coordLast[0].y = this.y;\r\n          \r\n          if(self.showTarget){\r\n              if(this.targetRadius < 8){\r\n                  this.targetRadius += .25 * self.dt;\r\n              } else {\r\n                  this.targetRadius = 1 * self.dt;\t\r\n              }\r\n          }\r\n          \r\n          if(this.startX >= this.targetX){\r\n              if(this.x + vx <= this.targetX){\r\n                  this.x = this.targetX;\r\n                  this.hitX = true;\r\n              } else {\r\n                  this.x += vx * self.dt;\r\n              }\r\n          } else {\r\n              if(this.x + vx >= this.targetX){\r\n                  this.x = this.targetX;\r\n                  this.hitX = true;\r\n              } else {\r\n                  this.x += vx * self.dt;\r\n              }\r\n          }\r\n          \r\n          if(this.startY >= this.targetY){\r\n              if(this.y + vy <= this.targetY){\r\n                  this.y = this.targetY;\r\n                  this.hitY = true;\r\n              } else {\r\n                  this.y += vy * self.dt;\r\n              }\r\n          } else {\r\n              if(this.y + vy >= this.targetY){\r\n                  this.y = this.targetY;\r\n                  this.hitY = true;\r\n              } else {\r\n                  this.y += vy * self.dt;\r\n              }\r\n          }\t\t\t\t\r\n          \r\n          if(this.hitX && this.hitY){\r\n              var randExplosion = rand(0, 9);\r\n              self.createParticles(this.targetX, this.targetY, this.hue);\r\n              self.fireworks.splice(index, 1);\t\t\t\t\t\r\n          }\r\n      };\r\n      \r\n      Firework.prototype.draw = function(){\r\n          self.ctx.lineWidth = this.lineWidth;\r\n              \r\n          var coordRand = (rand(1,3)-1);\t\t\t\t\t\r\n          self.ctx.beginPath();\t\t\t\t\t\t\t\r\n          self.ctx.moveTo(Math.round(this.coordLast[coordRand].x), Math.round(this.coordLast[coordRand].y));\r\n          self.ctx.lineTo(Math.round(this.x), Math.round(this.y));\r\n          self.ctx.closePath();\r\n          self.ctx.strokeStyle = 'hsla('+this.hue+', 100%, '+this.brightness+'%, '+this.alpha+')';\r\n          self.ctx.stroke();\t\r\n          \r\n          if(self.showTarget){\r\n              self.ctx.save();\r\n              self.ctx.beginPath();\r\n              self.ctx.arc(Math.round(this.targetX), Math.round(this.targetY), this.targetRadius, 0, Math.PI*2, false)\r\n              self.ctx.closePath();\r\n              self.ctx.lineWidth = 1;\r\n              self.ctx.stroke();\r\n              self.ctx.restore();\r\n          }\r\n              \r\n          if(self.showShockwave){\r\n              self.ctx.save();\r\n              self.ctx.translate(Math.round(this.x), Math.round(this.y));\r\n              self.ctx.rotate(this.shockwaveAngle);\r\n              self.ctx.beginPath();\r\n              self.ctx.arc(0, 0, 1*(this.speed/5), 0, Math.PI, true);\r\n              self.ctx.strokeStyle = 'hsla('+this.hue+', 100%, '+this.brightness+'%, '+rand(25, 60)/100+')';\r\n              self.ctx.lineWidth = this.lineWidth;\r\n              self.ctx.stroke();\r\n              self.ctx.restore();\r\n          }\t\t\t\t\t\t\t\t \r\n      };\r\n      \r\n      /*=============================================================================*/\t\r\n      /* Create Fireworks\r\n      /*=============================================================================*/\r\n      self.createFireworks = function(startX, startY, targetX, targetY){\t\t\t\r\n          self.fireworks.push(new Firework(startX, startY, targetX, targetY));\r\n      };\r\n      \r\n      /*=============================================================================*/\t\r\n      /* Update Fireworks\r\n      /*=============================================================================*/\t\t\r\n      self.updateFireworks = function(){\r\n          var i = self.fireworks.length;\r\n          while(i--){\r\n              var f = self.fireworks[i];\r\n              f.update(i);\r\n          };\r\n      };\r\n      \r\n      /*=============================================================================*/\t\r\n      /* Draw Fireworks\r\n      /*=============================================================================*/\r\n      self.drawFireworks = function(){\r\n          var i = self.fireworks.length;\t\t\t\r\n          while(i--){\r\n              var f = self.fireworks[i];\t\t\r\n              f.draw();\r\n          };\r\n      };\r\n      \r\n      /*=============================================================================*/\t\r\n      /* Events\r\n      /*=============================================================================*/\r\n      self.bindEvents = function(){\r\n          $(window).on('resize', function(){\t\t\t\r\n              clearTimeout(self.timeout);\r\n              self.timeout = setTimeout(function() {\r\n                  self.ctx.lineCap = 'round';\r\n                  self.ctx.lineJoin = 'round';\r\n              }, 100);\r\n          });\r\n          \r\n          $(self.canvas).on('mousedown', function(e){\r\n              var randLaunch = rand(0, 5);\r\n              self.mx = e.pageX - self.canvasContainer.offset().left;\r\n              self.my = e.pageY - self.canvasContainer.offset().top;\r\n              self.currentHue = rand(self.hueMin, self.hueMax);\r\n              self.createFireworks(self.cw/2, self.ch, self.mx, self.my);\t\r\n              \r\n              $(self.canvas).on('mousemove.fireworks', function(e){\r\n                  var randLaunch = rand(0, 5);\r\n                  self.mx = e.pageX - self.canvasContainer.offset().left;\r\n                  self.my = e.pageY - self.canvasContainer.offset().top;\r\n                  self.currentHue = rand(self.hueMin, self.hueMax);\r\n                  self.createFireworks(self.cw/2, self.ch, self.mx, self.my);\t\t\t\t\t\t\t\t\t\r\n              });\t\r\n              \r\n          });\r\n          \r\n          $(self.canvas).on('mouseup', function(e){\r\n              $(self.canvas).off('mousemove.fireworks');\t\t\t\t\t\t\t\t\t\r\n          });\r\n                      \r\n      }\r\n      \r\n      /*=============================================================================*/\t\r\n      /* Clear Canvas\r\n      /*=============================================================================*/\r\n      self.clear = function(){\r\n          self.particles = [];\r\n          self.fireworks = [];\r\n          self.ctx.clearRect(0, 0, self.cw, self.ch);\r\n      };\r\n    \r\n    /*=============================================================================*/\t\r\n      /* Delta\r\n      /*=============================================================================*/\r\n    self.updateDelta = function(){\r\n          var newTime = Date.now();\r\n          self.dt = (newTime - self.oldTime)/16;\r\n          self.dt = (self.dt > 5) ? 5 : self.dt;\r\n          self.oldTime = newTime;\t\r\n      }\r\n      \r\n      /*=============================================================================*/\t\r\n      /* Main Loop\r\n      /*=============================================================================*/\r\n      self.canvasLoop = function(){\r\n          requestAnimFrame(self.canvasLoop, self.canvas);\r\n      self.updateDelta();\r\n          self.ctx.globalCompositeOperation = 'destination-out';\r\n          self.ctx.fillStyle = 'rgba(0,0,0,'+self.clearAlpha/100+')';\r\n          self.ctx.fillRect(0,0,self.cw,self.ch);\r\n          self.ctx.globalCompositeOperation = 'lighter';\r\n          self.updateFireworks();\r\n          self.updateParticles();\r\n          self.drawFireworks();\t\t\t\r\n          self.drawParticles();\t\t\t\r\n      };\r\n      \r\n      self.init();\r\n    \r\n    var initialLaunchCount = 1000;\r\n    while(initialLaunchCount--){\r\n      setTimeout(function(){\r\n           self.fireworks.push(new Firework(self.cw/2, self.ch, rand(50, self.cw-50), rand(50, self.ch/2)-50));\r\n      }, initialLaunchCount*200);\r\n    }\r\n      \r\n  }\r\n  \r\n  /*=============================================================================*/\t\r\n  /* GUI\r\n  /*=============================================================================*/\t\r\n  var guiPresets = {\r\n                \"preset\": \"Default\",\r\n                \"remembered\": {\r\n                  \"Default\": {\r\n                    \"0\": {\r\n                      \"fworkSpeed\": 2,\r\n                      \"fworkAccel\": 4,\r\n                      \"showShockwave\": false,\r\n                      \"showTarget\": true,\r\n                      \"partCount\": 30,\r\n                      \"partSpeed\": 5,\r\n                      \"partSpeedVariance\": 10,\r\n                      \"partWind\": 50,\r\n                      \"partFriction\": 5,\r\n                      \"partGravity\": 1,\r\n                      \"flickerDensity\": 20,\r\n                      \"hueMin\": 150,\r\n                      \"hueMax\": 200,\r\n                      \"hueVariance\": 30,\r\n                      \"lineWidth\": 1,\r\n                      \"clearAlpha\": 25\r\n                    }\r\n                  },\r\n                  \"Anti Gravity\": {\r\n                    \"0\": {\r\n                      \"fworkSpeed\": 4,\r\n                      \"fworkAccel\": 10,\r\n                      \"showShockwave\": true,\r\n                      \"showTarget\": false,\r\n                      \"partCount\": 150,\r\n                      \"partSpeed\": 5,\r\n                      \"partSpeedVariance\": 10,\r\n                      \"partWind\": 10,\r\n                      \"partFriction\": 10,\r\n                      \"partGravity\": -10,\r\n                      \"flickerDensity\": 30,\r\n                      \"hueMin\": 0,\r\n                      \"hueMax\": 360,\r\n                      \"hueVariance\": 30,\r\n                      \"lineWidth\": 1,\r\n                      \"clearAlpha\": 50\r\n                    }\r\n                  },\r\n                  \"Battle Field\": {\r\n                    \"0\": {\r\n                      \"fworkSpeed\": 10,\r\n                      \"fworkAccel\": 20,\r\n                      \"showShockwave\": true,\r\n                      \"showTarget\": true,\r\n                      \"partCount\": 200,\r\n                      \"partSpeed\": 30,\r\n                      \"partSpeedVariance\": 5,\r\n                      \"partWind\": 0,\r\n                      \"partFriction\": 5,\r\n                      \"partGravity\": 0,\r\n                      \"flickerDensity\": 0,\r\n                      \"hueMin\": 20,\r\n                      \"hueMax\": 30,\r\n                      \"hueVariance\": 10,\r\n                      \"lineWidth\": 1,\r\n                      \"clearAlpha\": 40\r\n                    }\r\n                  },\r\n                  \"Mega Blast\": {\r\n                    \"0\": {\r\n                      \"fworkSpeed\": 3,\r\n                      \"fworkAccel\": 3,\r\n                      \"showShockwave\": true,\r\n                      \"showTarget\": true,\r\n                      \"partCount\": 500,\r\n                      \"partSpeed\": 50,\r\n                      \"partSpeedVariance\": 5,\r\n                      \"partWind\": 0,\r\n                      \"partFriction\": 0,\r\n                      \"partGravity\": 0,\r\n                      \"flickerDensity\": 0,\r\n                      \"hueMin\": 0,\r\n                      \"hueMax\": 360,\r\n                      \"hueVariance\": 30,\r\n                      \"lineWidth\": 20,\r\n                      \"clearAlpha\": 20\r\n                    }\r\n                  },\r\n                  \"Nimble\": {\r\n                    \"0\": {\r\n                      \"fworkSpeed\": 10,\r\n                      \"fworkAccel\": 50,\r\n                      \"showShockwave\": false,\r\n                      \"showTarget\": false,\r\n                      \"partCount\": 120,\r\n                      \"partSpeed\": 10,\r\n                      \"partSpeedVariance\": 10,\r\n                      \"partWind\": 100,\r\n                      \"partFriction\": 50,\r\n                      \"partGravity\": 0,\r\n                      \"flickerDensity\": 20,\r\n                      \"hueMin\": 0,\r\n                      \"hueMax\": 360,\r\n                      \"hueVariance\": 30,\r\n                      \"lineWidth\": 1,\r\n                      \"clearAlpha\": 80\r\n                    }\r\n                  },\r\n                  \"Slow Launch\": {\r\n                    \"0\": {\r\n                      \"fworkSpeed\": 2,\r\n                      \"fworkAccel\": 2,\r\n                      \"showShockwave\": false,\r\n                      \"showTarget\": false,\r\n                      \"partCount\": 200,\r\n                      \"partSpeed\": 10,\r\n                      \"partSpeedVariance\": 0,\r\n                      \"partWind\": 100,\r\n                      \"partFriction\": 0,\r\n                      \"partGravity\": 2,\r\n                      \"flickerDensity\": 50,\r\n                      \"hueMin\": 0,\r\n                      \"hueMax\": 360,\r\n                      \"hueVariance\": 20,\r\n                      \"lineWidth\": 4,\r\n                      \"clearAlpha\": 10\r\n                    }\r\n                  },\r\n                  \"Perma Trail\": {\r\n                    \"0\": {\r\n                      \"fworkSpeed\": 4,\r\n                      \"fworkAccel\": 10,\r\n                      \"showShockwave\": false,\r\n                      \"showTarget\": false,\r\n                      \"partCount\": 150,\r\n                      \"partSpeed\": 10,\r\n                      \"partSpeedVariance\": 10,\r\n                      \"partWind\": 100,\r\n                      \"partFriction\": 3,\r\n                      \"partGravity\": 0,\r\n                      \"flickerDensity\": 0,\r\n                      \"hueMin\": 0,\r\n                      \"hueMax\": 360,\r\n                      \"hueVariance\": 20,\r\n                      \"lineWidth\": 1,\r\n                      \"clearAlpha\": 0\r\n                    }\r\n                  }\r\n                },\r\n                \"closed\": true,\r\n                \"folders\": {\r\n                  \"Fireworks\": {\r\n                    \"preset\": \"Default\",\r\n                    \"closed\": false,\r\n                    \"folders\": {}\r\n                  },\r\n                  \"Particles\": {\r\n                    \"preset\": \"Default\",\r\n                    \"closed\": true,\r\n                    \"folders\": {}\r\n                  },\r\n                  \"Color\": {\r\n                    \"preset\": \"Default\",\r\n                    \"closed\": true,\r\n                    \"folders\": {}\r\n                  },\r\n                  \"Other\": {\r\n                    \"preset\": \"Default\",\r\n                    \"closed\": true,\r\n                    \"folders\": {}\r\n                  }\r\n                }\r\n              };\r\n  \r\n  \r\n  var fworks = new Fireworks();\r\n  var gui = new dat.GUI({\r\n      autoPlace: false,\r\n      load: guiPresets,\r\n      preset: 'Default'\r\n  });\r\n  var customContainer = document.getElementById('gui');\r\n  customContainer.appendChild(gui.domElement);\r\n  \r\n  var guiFireworks = gui.addFolder('Fireworks');\r\n  guiFireworks.add(fworks, 'fworkSpeed').min(1).max(10).step(1);\r\n  guiFireworks.add(fworks, 'fworkAccel').min(0).max(50).step(1);\r\n  guiFireworks.add(fworks, 'showShockwave');\r\n  guiFireworks.add(fworks, 'showTarget');\r\n  \r\n  var guiParticles = gui.addFolder('Particles');\r\n  guiParticles.add(fworks, 'partCount').min(0).max(500).step(1);\t\r\n  guiParticles.add(fworks, 'partSpeed').min(1).max(100).step(1);\r\n  guiParticles.add(fworks, 'partSpeedVariance').min(0).max(50).step(1);\r\n  guiParticles.add(fworks, 'partWind').min(0).max(100).step(1);\r\n  guiParticles.add(fworks, 'partFriction').min(0).max(50).step(1);\r\n  guiParticles.add(fworks, 'partGravity').min(-20).max(20).step(1);\r\n  guiParticles.add(fworks, 'flickerDensity').min(0).max(50).step(1);\r\n  \r\n  var guiColor = gui.addFolder('Color');\r\n  guiColor.add(fworks, 'hueMin').min(0).max(360).step(1);\r\n  guiColor.add(fworks, 'hueMax').min(0).max(360).step(1);\r\n  guiColor.add(fworks, 'hueVariance').min(0).max(180).step(1);\r\n  \r\n  var guiOther = gui.addFolder('Other');\r\n  guiOther.add(fworks, 'lineWidth').min(1).max(20).step(1);\r\n  guiOther.add(fworks, 'clearAlpha').min(0).max(100).step(1);\r\n  guiOther.add(fworks, 'clear').name('Clear');\r\n  \r\n  gui.remember(fworks);\r\n    }\r\n    render() {\r\n      const style = ''\r\n      return (\r\n        <div>\r\n          <div id=\"gui\"></div>\t\t\r\n          <div id=\"canvas-container\">\r\n            <div id=\"mountains2\"></div>\r\n            <div id=\"mountains1\"></div>\r\n            <div id=\"skyline\"></div>\r\n          </div>\r\n          <style jsx>{`\r\n        html, body {\r\n            margin: 0;\t\r\n            padding: 0;\r\n        }\r\n        \r\n        body {\r\n            background: #171717;\r\n            color: #999;\r\n            font: 100%/18px helvetica, arial, sans-serif;\r\n        }\r\n        \r\n        a {\r\n            color: #2fa1d6;\r\n            font-weight: bold;\r\n            text-decoration: none;\r\n        }\r\n        \r\n        a:hover {\r\n            color: #fff;\t\r\n        }\r\n        \r\n        #canvas-container {\r\n            background: #000 url(https://jackrugile.com/lab/fireworks-v2/images/bg.jpg);\r\n          /*height: 400px;*/\r\n            /*left: 50%;*/\r\n            /*margin: -200px 0 0 -300px;*/\r\n            position: absolute;\r\n            /*top: 50%;*/\r\n          /*width: 600px;*/\r\n            z-index: 2;\r\n          margin: 0;\r\n          top: 0;\r\n          width: 100%;\r\n          height: 100%;\r\n        }\r\n                \r\n        canvas {\r\n            cursor: crosshair;\r\n            display: block;\r\n            position: relative;\r\n            z-index: 3;\r\n          \r\n          width: 100%;\r\n          height: 100%;\r\n        }\r\n        \r\n        canvas:active {\r\n            cursor: crosshair;\r\n        }\r\n        \r\n        #skyline {\r\n            background: url(https://jackrugile.com/lab/fireworks-v2/images/skyline.png) repeat-x 50% 0;\r\n            bottom: 0;\r\n            height: 135px;\r\n            left: 0;\r\n            position: absolute;\r\n            width: 100%;\r\n            z-index: 1;\t\r\n        }\r\n        \r\n        #mountains1 {\r\n            background: url(https://jackrugile.com/lab/fireworks-v2/images/mountains1.png) repeat-x 40% 0;\r\n            bottom: 0;\r\n            height: 200px;\r\n            left: 0;\r\n            position: absolute;\r\n            width: 100%;\r\n            z-index: 1;\t\r\n        }\r\n        \r\n        #mountains2 {\r\n            background: url(https://jackrugile.com/lab/fireworks-v2/images/mountains2.png) repeat-x 30% 0;\r\n            bottom: 0;\r\n            height: 250px;\r\n            left: 0;\r\n            position: absolute;\r\n            width: 100%;\r\n            z-index: 1;\t\r\n        }\r\n        \r\n        #gui {\r\n            right: 0;\r\n            position: fixed;\r\n            top: 0;\r\n            z-index: 3;\r\n        }\r\n      `}</style>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n\r\n  export default Fireworks;"]},"metadata":{},"sourceType":"module"}